(function(){var e={7789:function(e,t,r){"use strict";function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(e){return typeof e}}else{_typeof=function _typeof(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(e)}t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var s=0;var n=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){if(e==="%%"){return}s++;if(e==="%c"){n=s}}));t.splice(n,0,r)}function log(){var e;return(typeof console==="undefined"?"undefined":_typeof(console))==="object"&&console.log&&(e=console).log.apply(e,arguments)}function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){var e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(9343)(t);var s=e.exports.formatters;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},9343:function(e,t,r){"use strict";function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(2031);Object.keys(e).forEach((function(t){createDebug[t]=e[t]}));createDebug.instances=[];createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){var t=0;for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){var t;function debug(){if(!debug.enabled){return}for(var e=arguments.length,r=new Array(e),s=0;s<e;s++){r[s]=arguments[s]}var n=debug;var i=Number(new Date);var o=i-(t||i);n.diff=o;n.prev=t;n.curr=i;t=i;r[0]=createDebug.coerce(r[0]);if(typeof r[0]!=="string"){r.unshift("%O")}var a=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,t){if(e==="%%"){return e}a++;var s=createDebug.formatters[t];if(typeof s==="function"){var i=r[a];e=s.call(n,i);r.splice(a,1);a--}return e}));createDebug.formatArgs.call(n,r);var c=n.log||createDebug.log;c.apply(n,r)}debug.namespace=e;debug.enabled=createDebug.enabled(e);debug.useColors=createDebug.useColors();debug.color=selectColor(e);debug.destroy=destroy;debug.extend=extend;if(typeof createDebug.init==="function"){createDebug.init(debug)}createDebug.instances.push(debug);return debug}function destroy(){var e=createDebug.instances.indexOf(this);if(e!==-1){createDebug.instances.splice(e,1);return true}return false}function extend(e,t){return createDebug(this.namespace+(typeof t==="undefined"?":":t)+e)}function enable(e){createDebug.save(e);createDebug.names=[];createDebug.skips=[];var t;var r=(typeof e==="string"?e:"").split(/[\s,]+/);var s=r.length;for(t=0;t<s;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}for(t=0;t<createDebug.instances.length;t++){var n=createDebug.instances[t];n.enabled=createDebug.enabled(n.namespace)}}function disable(){createDebug.enable("")}function enabled(e){if(e[e.length-1]==="*"){return true}var t;var r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},5823:function(e,t,r){"use strict";if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(7789)}else{e.exports=r(3507)}},3507:function(e,t,r){"use strict";var s=r(6224);var n=r(3837);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.colors=[6,2,3,4,5,1];try{var i=r(1975);if(i&&(i.stderr||i).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()}));var s=process.env[t];if(/^(yes|on|true|enabled)$/i.test(s)){s=true}else if(/^(no|off|false|disabled)$/i.test(s)){s=false}else if(s==="null"){s=null}else{s=Number(s)}e[r]=s;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):s.isatty(process.stderr.fd)}function formatArgs(t){var r=this.namespace,s=this.useColors;if(s){var n=this.color;var i="[3"+(n<8?n:"8;5;"+n);var o="  ".concat(i,";1m").concat(r," [0m");t[0]=o+t[0].split("\n").join("\n"+o);t.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(){return process.stderr.write(n.format.apply(n,arguments)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};var r=Object.keys(t.inspectOpts);for(var s=0;s<r.length;s++){e.inspectOpts[r[s]]=t.inspectOpts[r[s]]}}e.exports=r(9343)(t);var o=e.exports.formatters;o.o=function(e){this.inspectOpts.colors=this.useColors;return n.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")};o.O=function(e){this.inspectOpts.colors=this.useColors;return n.inspect(e,this.inspectOpts)}},4586:function(e,t,r){var s=r(3866);var n=r(7310).parse;var i=r(2361);var o=r(5687);var a=r(3685);var c=r(3837);var u=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"];var f=[239,187,191];var l=58;var h=32;var p=10;var d=13;function hasBom(e){return f.every((function(t,r){return e[r]===t}))}function EventSource(e,t){var r=EventSource.CONNECTING;Object.defineProperty(this,"readyState",{get:function(){return r}});Object.defineProperty(this,"url",{get:function(){return e}});var i=this;i.reconnectInterval=1e3;i.connectionInProgress=false;function onConnectionClosed(t){if(r===EventSource.CLOSED)return;r=EventSource.CONNECTING;_emit("error",new Event("error",{message:t}));if(b){e=b;b=null}setTimeout((function(){if(r!==EventSource.CONNECTING||i.connectionInProgress){return}i.connectionInProgress=true;connect()}),i.reconnectInterval)}var c;var v="";if(t&&t.headers&&t.headers["Last-Event-ID"]){v=t.headers["Last-Event-ID"];delete t.headers["Last-Event-ID"]}var m=false;var _="";var g="";var b=null;function connect(){var s=n(e);var h=s.protocol==="https:";s.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"};if(v)s.headers["Last-Event-ID"]=v;if(t&&t.headers){for(var _ in t.headers){var g=t.headers[_];if(g){s.headers[_]=g}}}s.rejectUnauthorized=!(t&&!t.rejectUnauthorized);if(t&&t.createConnection!==undefined){s.createConnection=t.createConnection}var y=t&&t.proxy;if(y){var E=n(t.proxy);h=E.protocol==="https:";s.protocol=h?"https:":"http:";s.path=e;s.headers.Host=s.host;s.hostname=E.hostname;s.host=E.host;s.port=E.port}if(t&&t.https){for(var S in t.https){if(u.indexOf(S)===-1){continue}var C=t.https[S];if(C!==undefined){s[S]=C}}}if(t&&t.withCredentials!==undefined){s.withCredentials=t.withCredentials}c=(h?o:a).request(s,(function(t){i.connectionInProgress=false;if(t.statusCode===500||t.statusCode===502||t.statusCode===503||t.statusCode===504){_emit("error",new Event("error",{status:t.statusCode,message:t.statusMessage}));onConnectionClosed();return}if(t.statusCode===301||t.statusCode===302||t.statusCode===307){if(!t.headers.location){_emit("error",new Event("error",{status:t.statusCode,message:t.statusMessage}));return}if(t.statusCode===307)b=e;e=t.headers.location;process.nextTick(connect);return}if(t.statusCode!==200){_emit("error",new Event("error",{status:t.statusCode,message:t.statusMessage}));return i.close()}r=EventSource.OPEN;t.on("close",(function(){t.removeAllListeners("close");t.removeAllListeners("end");onConnectionClosed()}));t.on("end",(function(){t.removeAllListeners("close");t.removeAllListeners("end");onConnectionClosed()}));_emit("open",new Event("open"));var s=true;var n;var o=0;var a=-1;t.on("data",(function(e){n=n?Buffer.concat([n,e]):e;if(s&&hasBom(n)){n=n.slice(f.length)}s=false;var t=0;var r=n.length;while(t<r){if(m){if(n[t]===p){++t}m=false}var i=-1;var c=a;var u;for(var h=o;i<0&&h<r;++h){u=n[h];if(u===l){if(c<0){c=h-t}}else if(u===d){m=true;i=h-t}else if(u===p){i=h-t}}if(i<0){o=r-t;a=c;break}else{o=0;a=-1}parseEventStreamLine(n,t,c,i);t+=i+1}if(t===r){n=void 0}else if(t>0){n=n.slice(t)}}))}));c.on("error",(function(e){i.connectionInProgress=false;onConnectionClosed(e.message)}));if(c.setNoDelay)c.setNoDelay(true);c.end()}connect();function _emit(){if(i.listeners(arguments[0]).length>0){i.emit.apply(i,arguments)}}this._close=function(){if(r===EventSource.CLOSED)return;r=EventSource.CLOSED;if(c.abort)c.abort();if(c.xhr&&c.xhr.abort)c.xhr.abort()};function parseEventStreamLine(t,r,n,o){if(o===0){if(_.length>0){var a=g||"message";_emit(a,new MessageEvent(a,{data:_.slice(0,-1),lastEventId:v,origin:s(e)}));_=""}g=void 0}else if(n>0){var c=n<0;var u=0;var f=t.slice(r,r+(c?o:n)).toString();if(c){u=o}else if(t[r+n+1]!==h){u=n+1}else{u=n+2}r+=u;var l=o-u;var p=t.slice(r,r+l).toString();if(f==="data"){_+=p+"\n"}else if(f==="event"){g=p}else if(f==="id"){v=p}else if(f==="retry"){var d=parseInt(p,10);if(!Number.isNaN(d)){i.reconnectInterval=d}}}}}e.exports=EventSource;c.inherits(EventSource,i.EventEmitter);EventSource.prototype.constructor=EventSource;["open","error","message"].forEach((function(e){Object.defineProperty(EventSource.prototype,"on"+e,{get:function get(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:undefined},set:function set(t){this.removeAllListeners(e);this.addEventListener(e,t)}})}));Object.defineProperty(EventSource,"CONNECTING",{enumerable:true,value:0});Object.defineProperty(EventSource,"OPEN",{enumerable:true,value:1});Object.defineProperty(EventSource,"CLOSED",{enumerable:true,value:2});EventSource.prototype.CONNECTING=0;EventSource.prototype.OPEN=1;EventSource.prototype.CLOSED=2;EventSource.prototype.close=function(){this._close()};EventSource.prototype.addEventListener=function addEventListener(e,t){if(typeof t==="function"){t._listener=t;this.on(e,t)}};EventSource.prototype.dispatchEvent=function dispatchEvent(e){if(!e.type){throw new Error("UNSPECIFIED_EVENT_TYPE_ERR")}this.emit(e.type,e.detail)};EventSource.prototype.removeEventListener=function removeEventListener(e,t){if(typeof t==="function"){t._listener=undefined;this.removeListener(e,t)}};function Event(e,t){Object.defineProperty(this,"type",{writable:false,value:e,enumerable:true});if(t){for(var r in t){if(t.hasOwnProperty(r)){Object.defineProperty(this,r,{writable:false,value:t[r],enumerable:true})}}}}function MessageEvent(e,t){Object.defineProperty(this,"type",{writable:false,value:e,enumerable:true});for(var r in t){if(t.hasOwnProperty(r)){Object.defineProperty(this,r,{writable:false,value:t[r],enumerable:true})}}}},8545:function(e,t,r){"use strict";var s=r(2781).Stream,n=r(3837),i=r(5338),o=r(8902),a=r(6972),c=r(2628),u=r(571);var EventSource=function(e,t,r){this.writable=true;r=r||{};this._stream=t.socket;this._ping=r.ping||this.DEFAULT_PING;this._retry=r.retry||this.DEFAULT_RETRY;var s=i.isSecureRequest(e)?"https:":"http:";this.url=s+"//"+e.headers.host+e.url;this.lastEventId=e.headers["last-event-id"]||"";this.readyState=a.CONNECTING;var n=new o,c=this;if(r.headers){for(var u in r.headers)n.set(u,r.headers[u])}if(!this._stream||!this._stream.writable)return;process.nextTick((function(){c._open()}));this._stream.setTimeout(0);this._stream.setNoDelay(true);var f="HTTP/1.1 200 OK\r\n"+"Content-Type: text/event-stream\r\n"+"Cache-Control: no-cache, no-store\r\n"+"Connection: close\r\n"+n.toString()+"\r\n"+"retry: "+Math.floor(this._retry*1e3)+"\r\n\r\n";this._write(f);this._stream.on("drain",(function(){c.emit("drain")}));if(this._ping)this._pingTimer=setInterval((function(){c.ping()}),this._ping*1e3);["error","end"].forEach((function(e){c._stream.on(e,(function(){c.close()}))}))};n.inherits(EventSource,s);EventSource.isEventSource=function(e){if(e.method!=="GET")return false;var t=(e.headers.accept||"").split(/\s*,\s*/);return t.indexOf("text/event-stream")>=0};var f={DEFAULT_PING:10,DEFAULT_RETRY:5,_write:function(e){if(!this.writable)return false;try{return this._stream.write(e,"utf8")}catch(e){return false}},_open:function(){if(this.readyState!==a.CONNECTING)return;this.readyState=a.OPEN;var e=new u("open");e.initEvent("open",false,false);this.dispatchEvent(e)},write:function(e){return this.send(e)},end:function(e){if(e!==undefined)this.write(e);this.close()},send:function(e,t){if(this.readyState>a.OPEN)return false;e=String(e).replace(/(\r\n|\r|\n)/g,"$1data: ");t=t||{};var r="";if(t.event)r+="event: "+t.event+"\r\n";if(t.id)r+="id: "+t.id+"\r\n";r+="data: "+e+"\r\n\r\n";return this._write(r)},ping:function(){return this._write(":\r\n\r\n")},close:function(){if(this.readyState>a.OPEN)return false;this.readyState=a.CLOSED;this.writable=false;if(this._pingTimer)clearInterval(this._pingTimer);if(this._stream)this._stream.end();var e=new u("close");e.initEvent("close",false,false);this.dispatchEvent(e);return true}};for(var l in f)EventSource.prototype[l]=f[l];for(var h in c)EventSource.prototype[h]=c[h];e.exports=EventSource},5304:function(e,t,r){"use strict";var s=r(3837),n=r(5338),i=r(6972);var WebSocket=function(e,t,r,s,o){o=o||{};this._stream=t;this._driver=n.http(e,{maxLength:o.maxLength,protocols:s});var a=this;if(!this._stream||!this._stream.writable)return;if(!this._stream.readable)return this._stream.end();var catchup=function(){a._stream.removeListener("data",catchup)};this._stream.on("data",catchup);i.call(this,o);process.nextTick((function(){a._driver.start();a._driver.io.write(r)}))};s.inherits(WebSocket,i);WebSocket.isWebSocket=function(e){return n.isWebSocket(e)};WebSocket.validateOptions=function(e,t){n.validateOptions(e,t)};WebSocket.WebSocket=WebSocket;WebSocket.Client=r(1047);WebSocket.EventSource=r(8545);e.exports=WebSocket},6972:function(e,t,r){"use strict";var s=r(2781).Stream,n=r(3837),i=r(5338),o=r(2628),a=r(571);var API=function(e){e=e||{};i.validateOptions(e,["headers","extensions","maxLength","ping","proxy","tls","ca"]);this.readable=this.writable=true;var t=e.headers;if(t){for(var r in t)this._driver.setHeader(r,t[r])}var s=e.extensions;if(s){[].concat(s).forEach(this._driver.addExtension,this._driver)}this._ping=e.ping;this._pingId=0;this.readyState=API.CONNECTING;this.bufferedAmount=0;this.protocol="";this.url=this._driver.url;this.version=this._driver.version;var n=this;this._driver.on("open",(function(e){n._open()}));this._driver.on("message",(function(e){n._receiveMessage(e.data)}));this._driver.on("close",(function(e){n._beginClose(e.reason,e.code)}));this._driver.on("error",(function(e){n._emitError(e.message)}));this.on("error",(function(){}));this._driver.messages.on("drain",(function(){n.emit("drain")}));if(this._ping)this._pingTimer=setInterval((function(){n._pingId+=1;n.ping(n._pingId.toString())}),this._ping*1e3);this._configureStream();if(!this._proxy){this._stream.pipe(this._driver.io);this._driver.io.pipe(this._stream)}};n.inherits(API,s);API.CONNECTING=0;API.OPEN=1;API.CLOSING=2;API.CLOSED=3;API.CLOSE_TIMEOUT=3e4;var c={write:function(e){return this.send(e)},end:function(e){if(e!==undefined)this.send(e);this.close()},pause:function(){return this._driver.messages.pause()},resume:function(){return this._driver.messages.resume()},send:function(e){if(this.readyState>API.OPEN)return false;if(!(e instanceof Buffer))e=String(e);return this._driver.messages.write(e)},ping:function(e,t){if(this.readyState>API.OPEN)return false;return this._driver.ping(e,t)},close:function(e,t){if(e===undefined)e=1e3;if(t===undefined)t="";if(e!==1e3&&(e<3e3||e>4999))throw new Error("Failed to execute 'close' on WebSocket: "+"The code must be either 1000, or between 3000 and 4999. "+e+" is neither.");if(this.readyState<API.CLOSING){var r=this;this._closeTimer=setTimeout((function(){r._beginClose("",1006)}),API.CLOSE_TIMEOUT)}if(this.readyState!==API.CLOSED)this.readyState=API.CLOSING;this._driver.close(t,e)},_configureStream:function(){var e=this;this._stream.setTimeout(0);this._stream.setNoDelay(true);["close","end"].forEach((function(t){this._stream.on(t,(function(){e._finalizeClose()}))}),this);this._stream.on("error",(function(t){e._emitError("Network error: "+e.url+": "+t.message);e._finalizeClose()}))},_open:function(){if(this.readyState!==API.CONNECTING)return;this.readyState=API.OPEN;this.protocol=this._driver.protocol||"";var e=new a("open");e.initEvent("open",false,false);this.dispatchEvent(e)},_receiveMessage:function(e){if(this.readyState>API.OPEN)return false;if(this.readable)this.emit("data",e);var t=new a("message",{data:e});t.initEvent("message",false,false);this.dispatchEvent(t)},_emitError:function(e){if(this.readyState>=API.CLOSING)return;var t=new a("error",{message:e});t.initEvent("error",false,false);this.dispatchEvent(t)},_beginClose:function(e,t){if(this.readyState===API.CLOSED)return;this.readyState=API.CLOSING;this._closeParams=[e,t];if(this._stream){this._stream.destroy();if(!this._stream.readable)this._finalizeClose()}},_finalizeClose:function(){if(this.readyState===API.CLOSED)return;this.readyState=API.CLOSED;if(this._closeTimer)clearTimeout(this._closeTimer);if(this._pingTimer)clearInterval(this._pingTimer);if(this._stream)this._stream.end();if(this.readable)this.emit("end");this.readable=this.writable=false;var e=this._closeParams?this._closeParams[0]:"",t=this._closeParams?this._closeParams[1]:1006;var r=new a("close",{code:t,reason:e});r.initEvent("close",false,false);this.dispatchEvent(r)}};for(var u in c)API.prototype[u]=c[u];for(var f in o)API.prototype[f]=o[f];e.exports=API},571:function(e){"use strict";var Event=function(e,t){this.type=e;for(var r in t)this[r]=t[r]};Event.prototype.initEvent=function(e,t,r){this.type=e;this.bubbles=t;this.cancelable=r};Event.prototype.stopPropagation=function(){};Event.prototype.preventDefault=function(){};Event.CAPTURING_PHASE=1;Event.AT_TARGET=2;Event.BUBBLING_PHASE=3;e.exports=Event},2628:function(e,t,r){"use strict";var s=r(571);var n={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(e,t,r){this.on(e,t)},removeEventListener:function(e,t,r){this.removeListener(e,t)},dispatchEvent:function(e){e.target=e.currentTarget=this;e.eventPhase=s.AT_TARGET;if(this["on"+e.type])this["on"+e.type](e);this.emit(e.type,e)}};e.exports=n},1047:function(e,t,r){"use strict";var s=r(3837),n=r(1808),i=r(4404),o=r(7310),a=r(5338),c=r(6972),u=r(571);var f={"http:":80,"https:":443,"ws:":80,"wss:":443},l=["https:","wss:"];var Client=function(e,t,r){r=r||{};this.url=e;this._driver=a.client(this.url,{maxLength:r.maxLength,protocols:t});["open","error"].forEach((function(e){this._driver.on(e,(function(){_.headers=_._driver.headers;_.statusCode=_._driver.statusCode}))}),this);var s=r.proxy||{},u=o.parse(s.origin||this.url),h=u.port||f[u.protocol],p=l.indexOf(u.protocol)>=0,onConnect=function(){_._onConnect()},d=r.net||{},v=r.tls||{},m=s.origin?s.tls||{}:v,_=this;d.host=m.host=u.hostname;d.port=m.port=h;v.ca=v.ca||r.ca;m.servername=m.servername||u.hostname;this._stream=p?i.connect(m,onConnect):n.connect(d,onConnect);if(s.origin)this._configureProxy(s,v);c.call(this,r)};s.inherits(Client,c);Client.prototype._onConnect=function(){var e=this._proxy||this._driver;e.start()};Client.prototype._configureProxy=function(e,t){var r=o.parse(this.url),s=l.indexOf(r.protocol)>=0,n=this,a;this._proxy=this._driver.proxy(e.origin);if(e.headers){for(a in e.headers)this._proxy.setHeader(a,e.headers[a])}this._proxy.pipe(this._stream,{end:false});this._stream.pipe(this._proxy);this._proxy.on("connect",(function(){if(s){var e={socket:n._stream,servername:r.hostname};for(a in t)e[a]=t[a];n._stream=i.connect(e);n._configureStream()}n._driver.io.pipe(n._stream);n._stream.pipe(n._driver.io);n._driver.start()}));this._proxy.on("error",(function(e){n._driver.emit("error",e)}))};e.exports=Client},8711:function(e){"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--";const s=t.indexOf(r+e);const n=t.indexOf("--");return s!==-1&&(n===-1||s<n)}},8898:function(e,t,r){var s;var n=r(9491);t.m=HTTPParser;function HTTPParser(e){n.ok(e===HTTPParser.REQUEST||e===HTTPParser.RESPONSE||e===undefined);if(e===undefined){}else{this.initialize(e)}}HTTPParser.prototype.initialize=function(e,t){n.ok(e===HTTPParser.REQUEST||e===HTTPParser.RESPONSE);this.type=e;this.state=e+"_LINE";this.info={headers:[],upgrade:false};this.trailers=[];this.line="";this.isChunked=false;this.connection="";this.headerSize=0;this.body_bytes=null;this.isUserCall=false;this.hadError=false};HTTPParser.encoding="ascii";HTTPParser.maxHeaderSize=80*1024;HTTPParser.REQUEST="REQUEST";HTTPParser.RESPONSE="RESPONSE";var i=HTTPParser.kOnHeaders=1;var o=HTTPParser.kOnHeadersComplete=2;var a=HTTPParser.kOnBody=3;var c=HTTPParser.kOnMessageComplete=4;HTTPParser.prototype[i]=HTTPParser.prototype[o]=HTTPParser.prototype[a]=HTTPParser.prototype[c]=function(){};var u=true;Object.defineProperty(HTTPParser,"kOnExecute",{get:function(){u=false;return 99}});var f=s=HTTPParser.methods=["DELETE","GET","HEAD","POST","PUT","CONNECT","OPTIONS","TRACE","COPY","LOCK","MKCOL","MOVE","PROPFIND","PROPPATCH","SEARCH","UNLOCK","BIND","REBIND","UNBIND","ACL","REPORT","MKACTIVITY","CHECKOUT","MERGE","M-SEARCH","NOTIFY","SUBSCRIBE","UNSUBSCRIBE","PATCH","PURGE","MKCALENDAR","LINK","UNLINK"];var l=f.indexOf("CONNECT");HTTPParser.prototype.reinitialize=HTTPParser;HTTPParser.prototype.close=HTTPParser.prototype.pause=HTTPParser.prototype.resume=HTTPParser.prototype.free=function(){};HTTPParser.prototype._compatMode0_11=false;HTTPParser.prototype.getAsyncId=function(){return 0};var h={REQUEST_LINE:true,RESPONSE_LINE:true,HEADER:true};HTTPParser.prototype.execute=function(e,t,r){if(!(this instanceof HTTPParser)){throw new TypeError("not a HTTPParser")}t=t||0;r=typeof r==="number"?r:e.length;this.chunk=e;this.offset=t;var s=this.end=t+r;try{while(this.offset<s){if(this[this.state]()){break}}}catch(e){if(this.isUserCall){throw e}this.hadError=true;return e}this.chunk=null;r=this.offset-t;if(h[this.state]){this.headerSize+=r;if(this.headerSize>HTTPParser.maxHeaderSize){return new Error("max header size exceeded")}}return r};var p={REQUEST_LINE:true,RESPONSE_LINE:true,BODY_RAW:true};HTTPParser.prototype.finish=function(){if(this.hadError){return}if(!p[this.state]){return new Error("invalid state for EOF")}if(this.state==="BODY_RAW"){this.userCall()(this[c]())}};HTTPParser.prototype.consume=HTTPParser.prototype.unconsume=HTTPParser.prototype.getCurrentBuffer=function(){};HTTPParser.prototype.userCall=function(){this.isUserCall=true;var e=this;return function(t){e.isUserCall=false;return t}};HTTPParser.prototype.nextRequest=function(){this.userCall()(this[c]());this.reinitialize(this.type)};HTTPParser.prototype.consumeLine=function(){var e=this.end,t=this.chunk;for(var r=this.offset;r<e;r++){if(t[r]===10){var s=this.line+t.toString(HTTPParser.encoding,this.offset,r);if(s.charAt(s.length-1)==="\r"){s=s.substr(0,s.length-1)}this.line="";this.offset=r+1;return s}}this.line+=t.toString(HTTPParser.encoding,this.offset,this.end);this.offset=this.end};var d=/^([^: \t]+):[ \t]*((?:.*[^ \t])|)/;var v=/^[ \t]+(.*[^ \t])/;HTTPParser.prototype.parseHeader=function(e,t){if(e.indexOf("\r")!==-1){throw parseErrorCode("HPE_LF_EXPECTED")}var r=d.exec(e);var s=r&&r[1];if(s){t.push(s);t.push(r[2])}else{var n=v.exec(e);if(n&&t.length){if(t[t.length-1]){t[t.length-1]+=" "}t[t.length-1]+=n[1]}}};var m=/^([A-Z-]+) ([^ ]+) HTTP\/(\d)\.(\d)$/;HTTPParser.prototype.REQUEST_LINE=function(){var e=this.consumeLine();if(!e){return}var t=m.exec(e);if(t===null){throw parseErrorCode("HPE_INVALID_CONSTANT")}this.info.method=this._compatMode0_11?t[1]:f.indexOf(t[1]);if(this.info.method===-1){throw new Error("invalid request method")}this.info.url=t[2];this.info.versionMajor=+t[3];this.info.versionMinor=+t[4];this.body_bytes=0;this.state="HEADER"};var _=/^HTTP\/(\d)\.(\d) (\d{3}) ?(.*)$/;HTTPParser.prototype.RESPONSE_LINE=function(){var e=this.consumeLine();if(!e){return}var t=_.exec(e);if(t===null){throw parseErrorCode("HPE_INVALID_CONSTANT")}this.info.versionMajor=+t[1];this.info.versionMinor=+t[2];var r=this.info.statusCode=+t[3];this.info.statusMessage=t[4];if((r/100|0)===1||r===204||r===304){this.body_bytes=0}this.state="HEADER"};HTTPParser.prototype.shouldKeepAlive=function(){if(this.info.versionMajor>0&&this.info.versionMinor>0){if(this.connection.indexOf("close")!==-1){return false}}else if(this.connection.indexOf("keep-alive")===-1){return false}if(this.body_bytes!==null||this.isChunked){return true}return false};HTTPParser.prototype.HEADER=function(){var e=this.consumeLine();if(e===undefined){return}var t=this.info;if(e){this.parseHeader(e,t.headers)}else{var r=t.headers;var s=false;var n;var i=false;for(var a=0;a<r.length;a+=2){switch(r[a].toLowerCase()){case"transfer-encoding":this.isChunked=r[a+1].toLowerCase()==="chunked";break;case"content-length":n=+r[a+1];if(s){if(n!==this.body_bytes){throw parseErrorCode("HPE_UNEXPECTED_CONTENT_LENGTH")}}else{s=true;this.body_bytes=n}break;case"connection":this.connection+=r[a+1].toLowerCase();break;case"upgrade":i=true;break}}if(this.isChunked&&s){s=false;this.body_bytes=null}if(i&&this.connection.indexOf("upgrade")!=-1){t.upgrade=this.type===HTTPParser.REQUEST||t.statusCode===101}else{t.upgrade=t.method===l}if(this.isChunked&&t.upgrade){this.isChunked=false}t.shouldKeepAlive=this.shouldKeepAlive();var c;if(u){c=this.userCall()(this[o](t))}else{c=this.userCall()(this[o](t.versionMajor,t.versionMinor,t.headers,t.method,t.url,t.statusCode,t.statusMessage,t.upgrade,t.shouldKeepAlive))}if(c===2){this.nextRequest();return true}else if(this.isChunked&&!c){this.state="BODY_CHUNKHEAD"}else if(c||this.body_bytes===0){this.nextRequest();return t.upgrade}else if(this.body_bytes===null){this.state="BODY_RAW"}else{this.state="BODY_SIZED"}}};HTTPParser.prototype.BODY_CHUNKHEAD=function(){var e=this.consumeLine();if(e===undefined){return}this.body_bytes=parseInt(e,16);if(!this.body_bytes){this.state="BODY_CHUNKTRAILERS"}else{this.state="BODY_CHUNK"}};HTTPParser.prototype.BODY_CHUNK=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,e));this.offset+=e;this.body_bytes-=e;if(!this.body_bytes){this.state="BODY_CHUNKEMPTYLINE"}};HTTPParser.prototype.BODY_CHUNKEMPTYLINE=function(){var e=this.consumeLine();if(e===undefined){return}n.equal(e,"");this.state="BODY_CHUNKHEAD"};HTTPParser.prototype.BODY_CHUNKTRAILERS=function(){var e=this.consumeLine();if(e===undefined){return}if(e){this.parseHeader(e,this.trailers)}else{if(this.trailers.length){this.userCall()(this[i](this.trailers,""))}this.nextRequest()}};HTTPParser.prototype.BODY_RAW=function(){var e=this.end-this.offset;this.userCall()(this[a](this.chunk,this.offset,e));this.offset=this.end};HTTPParser.prototype.BODY_SIZED=function(){var e=Math.min(this.end-this.offset,this.body_bytes);this.userCall()(this[a](this.chunk,this.offset,e));this.offset+=e;this.body_bytes-=e;if(!this.body_bytes){this.nextRequest()}};["Headers","HeadersComplete","Body","MessageComplete"].forEach((function(e){var t=HTTPParser["kOn"+e];Object.defineProperty(HTTPParser.prototype,"on"+e,{get:function(){return this[t]},set:function(e){this._compatMode0_11=true;l="CONNECT";return this[t]=e}})}));function parseErrorCode(e){var t=new Error("Parse Error");t.code=e;return t}},8111:function(e,t,r){try{var s=r(3837);if(typeof s.inherits!=="function")throw"";e.exports=s.inherits}catch(t){e.exports=r(9064)}},9064:function(e){if(typeof Object.create==="function"){e.exports=function inherits(e,t){if(t){e.super_=t;e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype;e.prototype=new TempCtor;e.prototype.constructor=e}}}},2031:function(e){var t=1e3;var r=t*60;var s=r*60;var n=s*24;var i=n*7;var o=n*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var u=(a[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*s;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){var i=Math.abs(e);if(i>=n){return Math.round(e/n)+"d"}if(i>=s){return Math.round(e/s)+"h"}if(i>=r){return Math.round(e/r)+"m"}if(i>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var i=Math.abs(e);if(i>=n){return plural(e,i,n,"day")}if(i>=s){return plural(e,i,s,"hour")}if(i>=r){return plural(e,i,r,"minute")}if(i>=t){return plural(e,i,t,"second")}return e+" ms"}function plural(e,t,r,s){var n=t>=r*1.5;return Math.round(e/r)+" "+s+(n?"s":"")}},3866:function(e,t,r){"use strict";var s=r(898);function origin(e){if("string"===typeof e)e=s(e);if(!e.protocol||!e.hostname)return"null";return(e.protocol+"//"+e.host).toLowerCase()}origin.same=function same(e,t){return origin(e)===origin(t)};e.exports=origin},6852:function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,s;function decode(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function encode(e){try{return encodeURIComponent(e)}catch(e){return null}}function querystring(e){var t=/([^=?#&]+)=?([^&]*)/g,r={},s;while(s=t.exec(e)){var n=decode(s[1]),i=decode(s[2]);if(n===null||i===null||n in r)continue;r[n]=i}return r}function querystringify(e,t){t=t||"";var n=[],i,o;if("string"!==typeof t)t="?";for(o in e){if(r.call(e,o)){i=e[o];if(!i&&(i===null||i===s||isNaN(i))){i=""}o=encode(o);i=encode(i);if(o===null||i===null)continue;n.push(o+"="+i)}}return n.length?t+n.join("&"):""}t.stringify=querystringify;t.parse=querystring},7466:function(e){"use strict";e.exports=function required(e,t){t=t.split(":")[0];e=+e;if(!e)return false;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return false}return e!==0}},4145:function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var s=r(4300);var n=s.Buffer;function copyProps(e,t){for(var r in e){t[r]=e[r]}}if(n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow){e.exports=s}else{copyProps(s,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,r){return n(e,t,r)}SafeBuffer.prototype=Object.create(n.prototype);copyProps(n,SafeBuffer);SafeBuffer.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return n(e,t,r)};SafeBuffer.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var s=n(e);if(t!==undefined){if(typeof r==="string"){s.fill(t,r)}else{s.fill(t)}}else{s.fill(0)}return s};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return s.SlowBuffer(e)}},1828:function(e,t,r){"use strict";var s=r(7059);e.exports=r(8728)(s);if("_sockjs_onload"in global){setTimeout(global._sockjs_onload,1)}},7469:function(e,t,r){"use strict";var s=r(8111),n=r(5489);function CloseEvent(){n.call(this);this.initEvent("close",false,false);this.wasClean=false;this.code=0;this.reason=""}s(CloseEvent,n);e.exports=CloseEvent},5489:function(e){"use strict";function Event(e){this.type=e}Event.prototype.initEvent=function(e,t,r){this.type=e;this.bubbles=t;this.cancelable=r;this.timeStamp=+new Date;return this};Event.prototype.stopPropagation=function(){};Event.prototype.preventDefault=function(){};Event.CAPTURING_PHASE=1;Event.AT_TARGET=2;Event.BUBBLING_PHASE=3;e.exports=Event},6247:function(e){"use strict";function EventTarget(){this._listeners={}}EventTarget.prototype.addEventListener=function(e,t){if(!(e in this._listeners)){this._listeners[e]=[]}var r=this._listeners[e];if(r.indexOf(t)===-1){r=r.concat([t])}this._listeners[e]=r};EventTarget.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(!r){return}var s=r.indexOf(t);if(s!==-1){if(r.length>1){this._listeners[e]=r.slice(0,s).concat(r.slice(s+1))}else{delete this._listeners[e]}return}};EventTarget.prototype.dispatchEvent=function(){var e=arguments[0];var t=e.type;var r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]){this["on"+t].apply(this,r)}if(t in this._listeners){var s=this._listeners[t];for(var n=0;n<s.length;n++){s[n].apply(this,r)}}};e.exports=EventTarget},380:function(e,t,r){"use strict";var s=r(8111),n=r(5489);function TransportMessageEvent(e){n.call(this);this.initEvent("message",false,false);this.data=e}s(TransportMessageEvent,n);e.exports=TransportMessageEvent},5008:function(e,t,r){"use strict";var s=r(3012);function FacadeJS(e){this._transport=e;e.on("message",this._transportMessage.bind(this));e.on("close",this._transportClose.bind(this))}FacadeJS.prototype._transportClose=function(e,t){s.postMessage("c",JSON.stringify([e,t]))};FacadeJS.prototype._transportMessage=function(e){s.postMessage("t",e)};FacadeJS.prototype._send=function(e){this._transport.send(e)};FacadeJS.prototype._close=function(){this._transport.close();this._transport.removeAllListeners()};e.exports=FacadeJS},3800:function(e,t,r){"use strict";var s=r(8337),n=r(5346),i=r(5008),o=r(8063),a=r(3012),c=r(1364);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:iframe-bootstrap")}e.exports=function(e,t){var r={};t.forEach((function(e){if(e.facadeTransport){r[e.facadeTransport.transportName]=e.facadeTransport}}));r[o.transportName]=o;var u;e.bootstrap_iframe=function(){var t;a.currentWindowId=c.hash.slice(1);var onMessage=function(n){if(n.source!==parent){return}if(typeof u==="undefined"){u=n.origin}if(n.origin!==u){return}var o;try{o=JSON.parse(n.data)}catch(e){debug("bad json",n.data);return}if(o.windowId!==a.currentWindowId){return}switch(o.type){case"s":var f;try{f=JSON.parse(o.data)}catch(e){debug("bad json",o.data);break}var l=f[0];var h=f[1];var p=f[2];var d=f[3];debug(l,h,p,d);if(l!==e.version){throw new Error("Incompatible SockJS! Main site uses:"+' "'+l+'", the iframe:'+' "'+e.version+'".')}if(!s.isOriginEqual(p,c.href)||!s.isOriginEqual(d,c.href)){throw new Error("Can't connect to different domain from within an "+"iframe. ("+c.href+", "+p+", "+d+")")}t=new i(new r[h](p,d));break;case"m":t._send(o.data);break;case"c":if(t){t._close()}t=null;break}};n.attachEvent("message",onMessage);a.postMessage("s")}}},8977:function(e,t,r){"use strict";var s=r(2361).EventEmitter,n=r(8111),i=r(9705);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:info-ajax")}function InfoAjax(e,t){s.call(this);var r=this;var n=+new Date;this.xo=new t("GET",e);this.xo.once("finish",(function(e,t){var s,o;if(e===200){o=+new Date-n;if(t){try{s=JSON.parse(t)}catch(e){debug("bad json",t)}}if(!i.isObject(s)){s={}}}r.emit("finish",s,o);r.removeAllListeners()}))}n(InfoAjax,s);InfoAjax.prototype.close=function(){this.removeAllListeners();this.xo.close()};e.exports=InfoAjax},8063:function(e,t,r){"use strict";var s=r(8111),n=r(2361).EventEmitter,i=r(7154),o=r(8977);function InfoReceiverIframe(e){var t=this;n.call(this);this.ir=new o(e,i);this.ir.once("finish",(function(e,r){t.ir=null;t.emit("message",JSON.stringify([e,r]))}))}s(InfoReceiverIframe,n);InfoReceiverIframe.transportName="iframe-info-receiver";InfoReceiverIframe.prototype.close=function(){if(this.ir){this.ir.close();this.ir=null}this.removeAllListeners()};e.exports=InfoReceiverIframe},9042:function(e,t,r){"use strict";var s=r(2361).EventEmitter,n=r(8111),i=r(5346),o=r(5367),a=r(8063);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:info-iframe")}function InfoIframe(e,t){var r=this;s.call(this);var go=function(){var s=r.ifr=new o(a.transportName,t,e);s.once("message",(function(e){if(e){var t;try{t=JSON.parse(e)}catch(t){debug("bad json",e);r.emit("finish");r.close();return}var s=t[0],n=t[1];r.emit("finish",s,n)}r.close()}));s.once("close",(function(){r.emit("finish");r.close()}))};if(!global.document.body){i.attachEvent("load",go)}else{go()}}n(InfoIframe,s);InfoIframe.enabled=function(){return o.enabled()};InfoIframe.prototype.close=function(){if(this.ifr){this.ifr.close()}this.removeAllListeners();this.ifr=null};e.exports=InfoIframe},2749:function(e,t,r){"use strict";var s=r(2361).EventEmitter,n=r(8111),i=r(8337),o=r(713),a=r(1798),c=r(7154),u=r(4570),f=r(9042),l=r(8977);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:info-receiver")}function InfoReceiver(e,t){debug(e);var r=this;s.call(this);setTimeout((function(){r.doXhr(e,t)}),0)}n(InfoReceiver,s);InfoReceiver._getReceiver=function(e,t,r){if(r.sameOrigin){return new l(t,c)}if(a.enabled){return new l(t,a)}if(o.enabled&&r.sameScheme){return new l(t,o)}if(f.enabled()){return new f(e,t)}return new l(t,u)};InfoReceiver.prototype.doXhr=function(e,t){var r=this,s=i.addPath(e,"/info");debug("doXhr",s);this.xo=InfoReceiver._getReceiver(e,s,t);this.timeoutRef=setTimeout((function(){debug("timeout");r._cleanup(false);r.emit("finish")}),InfoReceiver.timeout);this.xo.once("finish",(function(e,t){debug("finish",e,t);r._cleanup(true);r.emit("finish",e,t)}))};InfoReceiver.prototype._cleanup=function(e){debug("_cleanup");clearTimeout(this.timeoutRef);this.timeoutRef=null;if(!e&&this.xo){this.xo.close()}this.xo=null};InfoReceiver.prototype.close=function(){debug("close");this.removeAllListeners();this._cleanup(false)};InfoReceiver.timeout=8e3;e.exports=InfoReceiver},1364:function(e){"use strict";e.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},8728:function(e,t,r){"use strict";r(1158);var s=r(898),n=r(8111),i=r(9405),o=r(7441),a=r(8337),c=r(5346),u=r(9992),f=r(9705),l=r(6579),h=r(7933),p=r(5489),d=r(6247),v=r(1364),m=r(7469),_=r(380),g=r(2749);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:main")}var b;function SockJS(e,t,r){if(!(this instanceof SockJS)){return new SockJS(e,t,r)}if(arguments.length<1){throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present")}d.call(this);this.readyState=SockJS.CONNECTING;this.extensions="";this.protocol="";r=r||{};if(r.protocols_whitelist){h.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead.")}this._transportsWhitelist=r.transports;this._transportOptions=r.transportOptions||{};this._timeout=r.timeout||0;var n=r.sessionId||8;if(typeof n==="function"){this._generateSessionId=n}else if(typeof n==="number"){this._generateSessionId=function(){return i.string(n)}}else{throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.")}this._server=r.server||i.numberString(1e3);var o=new s(e);if(!o.host||!o.protocol){throw new SyntaxError("The URL '"+e+"' is invalid")}else if(o.hash){throw new SyntaxError("The URL must not contain a fragment")}else if(o.protocol!=="http:"&&o.protocol!=="https:"){throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.")}var c=o.protocol==="https:";if(v.protocol==="https:"&&!c){if(!a.isLoopbackAddr(o.hostname)){throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS")}}if(!t){t=[]}else if(!Array.isArray(t)){t=[t]}var u=t.sort();u.forEach((function(e,t){if(!e){throw new SyntaxError("The protocols entry '"+e+"' is invalid.")}if(t<u.length-1&&e===u[t+1]){throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}}));var f=a.getOrigin(v.href);this._origin=f?f.toLowerCase():null;o.set("pathname",o.pathname.replace(/\/+$/,""));this.url=o.href;debug("using url",this.url);this._urlInfo={nullOrigin:!l.hasDomain(),sameOrigin:a.isOriginEqual(this.url,v.href),sameScheme:a.isSchemeEqual(this.url,v.href)};this._ir=new g(this.url,this._urlInfo);this._ir.once("finish",this._receiveInfo.bind(this))}n(SockJS,d);function userSetCode(e){return e===1e3||e>=3e3&&e<=4999}SockJS.prototype.close=function(e,t){if(e&&!userSetCode(e)){throw new Error("InvalidAccessError: Invalid code")}if(t&&t.length>123){throw new SyntaxError("reason argument has an invalid length")}if(this.readyState===SockJS.CLOSING||this.readyState===SockJS.CLOSED){return}var r=true;this._close(e||1e3,t||"Normal closure",r)};SockJS.prototype.send=function(e){if(typeof e!=="string"){e=""+e}if(this.readyState===SockJS.CONNECTING){throw new Error("InvalidStateError: The connection has not been established yet")}if(this.readyState!==SockJS.OPEN){return}this._transport.send(o.quote(e))};SockJS.version=r(8027);SockJS.CONNECTING=0;SockJS.OPEN=1;SockJS.CLOSING=2;SockJS.CLOSED=3;SockJS.prototype._receiveInfo=function(e,t){debug("_receiveInfo",t);this._ir=null;if(!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t);this._transUrl=e.base_url?e.base_url:this.url;e=f.extend(e,this._urlInfo);debug("info",e);var r=b.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main;debug(this._transports.length+" enabled transports");this._connect()};SockJS.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){debug("attempt",e.transportName);if(e.needBody){if(!global.document.body||typeof global.document.readyState!=="undefined"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive"){debug("waiting for body");this._transports.unshift(e);c.attachEvent("load",this._connect.bind(this));return}}var t=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);debug("using timeout",t);var r=a.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());var s=this._transportOptions[e.transportName];debug("transport url",r);var n=new e(r,this._transUrl,s);n.on("message",this._transportMessage.bind(this));n.once("close",this._transportClose.bind(this));n.transportName=e.transportName;this._transport=n;return}this._close(2e3,"All transports failed",false)};SockJS.prototype._transportTimeout=function(){debug("_transportTimeout");if(this.readyState===SockJS.CONNECTING){if(this._transport){this._transport.close()}this._transportClose(2007,"Transport timed out")}};SockJS.prototype._transportMessage=function(e){debug("_transportMessage",e);var t=this,r=e.slice(0,1),s=e.slice(1),n;switch(r){case"o":this._open();return;case"h":this.dispatchEvent(new p("heartbeat"));debug("heartbeat",this.transport);return}if(s){try{n=JSON.parse(s)}catch(e){debug("bad json",s)}}if(typeof n==="undefined"){debug("empty payload",s);return}switch(r){case"a":if(Array.isArray(n)){n.forEach((function(e){debug("message",t.transport,e);t.dispatchEvent(new _(e))}))}break;case"m":debug("message",this.transport,n);this.dispatchEvent(new _(n));break;case"c":if(Array.isArray(n)&&n.length===2){this._close(n[0],n[1],true)}break}};SockJS.prototype._transportClose=function(e,t){debug("_transportClose",this.transport,e,t);if(this._transport){this._transport.removeAllListeners();this._transport=null;this.transport=null}if(!userSetCode(e)&&e!==2e3&&this.readyState===SockJS.CONNECTING){this._connect();return}this._close(e,t)};SockJS.prototype._open=function(){debug("_open",this._transport&&this._transport.transportName,this.readyState);if(this.readyState===SockJS.CONNECTING){if(this._transportTimeoutId){clearTimeout(this._transportTimeoutId);this._transportTimeoutId=null}this.readyState=SockJS.OPEN;this.transport=this._transport.transportName;this.dispatchEvent(new p("open"));debug("connected",this.transport)}else{this._close(1006,"Server lost session")}};SockJS.prototype._close=function(e,t,r){debug("_close",this.transport,e,t,r,this.readyState);var s=false;if(this._ir){s=true;this._ir.close();this._ir=null}if(this._transport){this._transport.close();this._transport=null;this.transport=null}if(this.readyState===SockJS.CLOSED){throw new Error("InvalidStateError: SockJS has already been closed")}this.readyState=SockJS.CLOSING;setTimeout(function(){this.readyState=SockJS.CLOSED;if(s){this.dispatchEvent(new p("error"))}var n=new m("close");n.wasClean=r||false;n.code=e||1e3;n.reason=t;this.dispatchEvent(n);this.onmessage=this.onclose=this.onerror=null;debug("disconnected")}.bind(this),0)};SockJS.prototype.countRTO=function(e){if(e>100){return 4*e}return 300+e};e.exports=function(e){b=u(e);r(3800)(SockJS,e);return SockJS}},1158:function(){"use strict";var e=Array.prototype;var t=Object.prototype;var r=Function.prototype;var s=String.prototype;var n=e.slice;var i=t.toString;var isFunction=function(e){return t.toString.call(e)==="[object Function]"};var o=function isArray(e){return i.call(e)==="[object Array]"};var a=function isString(e){return i.call(e)==="[object String]"};var c=Object.defineProperty&&function(){try{Object.defineProperty({},"x",{});return true}catch(e){return false}}();var u;if(c){u=function(e,t,r,s){if(!s&&t in e){return}Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:r})}}else{u=function(e,t,r,s){if(!s&&t in e){return}e[t]=r}}var defineProperties=function(e,r,s){for(var n in r){if(t.hasOwnProperty.call(r,n)){u(e,n,r[n],s)}}};var toObject=function(e){if(e==null){throw new TypeError("can't convert "+e+" to object")}return Object(e)};function toInteger(e){var t=+e;if(t!==t){t=0}else if(t!==0&&t!==1/0&&t!==-(1/0)){t=(t>0||-1)*Math.floor(Math.abs(t))}return t}function ToUint32(e){return e>>>0}function Empty(){}defineProperties(r,{bind:function bind(e){var t=this;if(!isFunction(t)){throw new TypeError("Function.prototype.bind called on incompatible "+t)}var r=n.call(arguments,1);var binder=function(){if(this instanceof a){var s=t.apply(this,r.concat(n.call(arguments)));if(Object(s)===s){return s}return this}else{return t.apply(e,r.concat(n.call(arguments)))}};var s=Math.max(0,t.length-r.length);var i=[];for(var o=0;o<s;o++){i.push("$"+o)}var a=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this, arguments); }")(binder);if(t.prototype){Empty.prototype=t.prototype;a.prototype=new Empty;Empty.prototype=null}return a}});defineProperties(Array,{isArray:o});var f=Object("a");var l=f[0]!=="a"||!(0 in f);var h=function properlyBoxed(e){var t=true;var r=true;if(e){e.call("foo",(function(e,r,s){if(typeof s!=="object"){t=false}}));e.call([1],(function(){"use strict";r=typeof this==="string"}),"x")}return!!e&&t&&r};defineProperties(e,{forEach:function forEach(e){var t=toObject(this),r=l&&a(this)?this.split(""):t,s=arguments[1],n=-1,i=r.length>>>0;if(!isFunction(e)){throw new TypeError}while(++n<i){if(n in r){e.call(s,r[n],n,t)}}}},!h(e.forEach));var p=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;defineProperties(e,{indexOf:function indexOf(e){var t=l&&a(this)?this.split(""):toObject(this),r=t.length>>>0;if(!r){return-1}var s=0;if(arguments.length>1){s=toInteger(arguments[1])}s=s>=0?s:Math.max(0,r+s);for(;s<r;s++){if(s in t&&t[s]===e){return s}}return-1}},p);var d=s.split;if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var t=/()??/.exec("")[1]===void 0;s.split=function(r,s){var n=this;if(r===void 0&&s===0){return[]}if(i.call(r)!=="[object RegExp]"){return d.call(this,r,s)}var o=[],a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),c=0,u,f,l,h;r=new RegExp(r.source,a+"g");n+="";if(!t){u=new RegExp("^"+r.source+"$(?!\\s)",a)}s=s===void 0?-1>>>0:ToUint32(s);while(f=r.exec(n)){l=f.index+f[0].length;if(l>c){o.push(n.slice(c,f.index));if(!t&&f.length>1){f[0].replace(u,(function(){for(var e=1;e<arguments.length-2;e++){if(arguments[e]===void 0){f[e]=void 0}}}))}if(f.length>1&&f.index<n.length){e.push.apply(o,f.slice(1))}h=f[0].length;c=l;if(o.length>=s){break}}if(r.lastIndex===f.index){r.lastIndex++}}if(c===n.length){if(h||!r.test("")){o.push("")}}else{o.push(n.slice(c))}return o.length>s?o.slice(0,s):o}})()}else if("0".split(void 0,0).length){s.split=function split(e,t){if(e===void 0&&t===0){return[]}return d.call(this,e,t)}}var v=s.substr;var m="".substr&&"0b".substr(-1)!=="b";defineProperties(s,{substr:function substr(e,t){return v.call(this,e<0?(e=this.length+e)<0?0:e:e,t)}},m)},7059:function(e,t,r){"use strict";e.exports=[r(1101),r(6373),r(6955),r(6215),r(9848)(r(6215)),r(9166),r(9848)(r(9166)),r(825),r(1968),r(9848)(r(825)),r(9248)]},3374:function(e,t,r){e.exports=r(5304).Client},3778:function(e,t,r){"use strict";var s=r(2361).EventEmitter,n=r(8111),i=r(3685),o=r(5687),a=r(898);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:driver:xhr")}function XhrDriver(e,t,r,n){debug(e,t,r);var c=this;s.call(this);var u=new a(t);var f={method:e,hostname:u.hostname.replace(/\[|\]/g,""),port:u.port,path:u.pathname+(u.query||""),headers:n&&n.headers};var l=u.protocol==="https:"?o:i;this.req=l.request(f,(function(e){e.setEncoding("utf8");var t="";e.on("data",(function(e){debug("data",e);t+=e;c.emit("chunk",200,t)}));e.once("end",(function(){debug("end");c.emit("finish",e.statusCode,t);c.req=null}))}));this.req.on("error",(function(e){debug("error",e);c.emit("finish",0,e.message)}));if(r){this.req.write(r)}this.req.end()}n(XhrDriver,s);XhrDriver.prototype.close=function(){debug("close");this.removeAllListeners();if(this.req){this.req.abort();this.req=null}};XhrDriver.enabled=true;XhrDriver.supportsCORS=true;e.exports=XhrDriver},6215:function(e,t,r){"use strict";var s=r(8111),n=r(5872),i=r(4025),o=r(1798),a=r(4586);function EventSourceTransport(e){if(!EventSourceTransport.enabled()){throw new Error("Transport created when disabled")}n.call(this,e,"/eventsource",i,o)}s(EventSourceTransport,n);EventSourceTransport.enabled=function(){return!!a};EventSourceTransport.transportName="eventsource";EventSourceTransport.roundTrips=2;e.exports=EventSourceTransport},9166:function(e,t,r){"use strict";var s=r(8111),n=r(8056),i=r(7154),o=r(5872);function HtmlFileTransport(e){if(!n.enabled){throw new Error("Transport created when disabled")}o.call(this,e,"/htmlfile",n,i)}s(HtmlFileTransport,o);HtmlFileTransport.enabled=function(e){return n.enabled&&e.sameOrigin};HtmlFileTransport.transportName="htmlfile";HtmlFileTransport.roundTrips=2;e.exports=HtmlFileTransport},5367:function(e,t,r){"use strict";var s=r(8111),n=r(2361).EventEmitter,i=r(8027),o=r(8337),a=r(3012),c=r(5346),u=r(9405);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:transport:iframe")}function IframeTransport(e,t,r){if(!IframeTransport.enabled()){throw new Error("Transport created when disabled")}n.call(this);var s=this;this.origin=o.getOrigin(r);this.baseUrl=r;this.transUrl=t;this.transport=e;this.windowId=u.string(8);var i=o.addPath(r,"/iframe.html")+"#"+this.windowId;debug(e,t,i);this.iframeObj=a.createIframe(i,(function(e){debug("err callback");s.emit("close",1006,"Unable to load an iframe ("+e+")");s.close()}));this.onmessageCallback=this._message.bind(this);c.attachEvent("message",this.onmessageCallback)}s(IframeTransport,n);IframeTransport.prototype.close=function(){debug("close");this.removeAllListeners();if(this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup();this.iframeObj=null;this.onmessageCallback=this.iframeObj=null}};IframeTransport.prototype._message=function(e){debug("message",e.data);if(!o.isOriginEqual(e.origin,this.origin)){debug("not same origin",e.origin,this.origin);return}var t;try{t=JSON.parse(e.data)}catch(t){debug("bad json",e.data);return}if(t.windowId!==this.windowId){debug("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded();this.postMessage("s",JSON.stringify([i,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=JSON.parse(t.data)}catch(e){debug("bad json",t.data);return}this.emit("close",r[0],r[1]);this.close();break}};IframeTransport.prototype.postMessage=function(e,t){debug("postMessage",e,t);this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};IframeTransport.prototype.send=function(e){debug("send",e);this.postMessage("m",e)};IframeTransport.enabled=function(){return a.iframeEnabled};IframeTransport.transportName="iframe";IframeTransport.roundTrips=2;e.exports=IframeTransport},9248:function(e,t,r){"use strict";var s=r(8111),n=r(1307),i=r(274),o=r(1526);function JsonPTransport(e){if(!JsonPTransport.enabled()){throw new Error("Transport created when disabled")}n.call(this,e,"/jsonp",o,i)}s(JsonPTransport,n);JsonPTransport.enabled=function(){return!!global.document};JsonPTransport.transportName="jsonp-polling";JsonPTransport.roundTrips=1;JsonPTransport.needBody=true;e.exports=JsonPTransport},5872:function(e,t,r){"use strict";var s=r(8111),n=r(8337),i=r(1307);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:ajax-based")}function createAjaxSender(e){return function(t,r,s){debug("create ajax sender",t,r);var i={};if(typeof r==="string"){i.headers={"Content-type":"text/plain"}}var o=n.addPath(t,"/xhr_send");var a=new e("POST",o,r,i);a.once("finish",(function(e){debug("finish",e);a=null;if(e!==200&&e!==204){return s(new Error("http status "+e))}s()}));return function(){debug("abort");a.close();a=null;var e=new Error("Aborted");e.code=1e3;s(e)}}}function AjaxBasedTransport(e,t,r,s){i.call(this,e,t,createAjaxSender(s),r,s)}s(AjaxBasedTransport,i);e.exports=AjaxBasedTransport},3436:function(e,t,r){"use strict";var s=r(8111),n=r(2361).EventEmitter;var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:buffered-sender")}function BufferedSender(e,t){debug(e);n.call(this);this.sendBuffer=[];this.sender=t;this.url=e}s(BufferedSender,n);BufferedSender.prototype.send=function(e){debug("send",e);this.sendBuffer.push(e);if(!this.sendStop){this.sendSchedule()}};BufferedSender.prototype.sendScheduleWait=function(){debug("sendScheduleWait");var e=this;var t;this.sendStop=function(){debug("sendStop");e.sendStop=null;clearTimeout(t)};t=setTimeout((function(){debug("timeout");e.sendStop=null;e.sendSchedule()}),25)};BufferedSender.prototype.sendSchedule=function(){debug("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null;if(t){debug("error",t);e.emit("close",t.code||1006,"Sending error: "+t);e.close()}else{e.sendScheduleWait()}}));this.sendBuffer=[]}};BufferedSender.prototype._cleanup=function(){debug("_cleanup");this.removeAllListeners()};BufferedSender.prototype.close=function(){debug("close");this._cleanup();if(this.sendStop){this.sendStop();this.sendStop=null}};e.exports=BufferedSender},9848:function(e,t,r){"use strict";var s=r(8111),n=r(5367),i=r(9705);e.exports=function(e){function IframeWrapTransport(t,r){n.call(this,e.transportName,t,r)}s(IframeWrapTransport,n);IframeWrapTransport.enabled=function(t,r){if(!global.document){return false}var s=i.extend({},r);s.sameOrigin=true;return e.enabled(s)&&n.enabled()};IframeWrapTransport.transportName="iframe-"+e.transportName;IframeWrapTransport.needBody=true;IframeWrapTransport.roundTrips=n.roundTrips+e.roundTrips-1;IframeWrapTransport.facadeTransport=e;return IframeWrapTransport}},1281:function(e,t,r){"use strict";var s=r(8111),n=r(2361).EventEmitter;var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:polling")}function Polling(e,t,r){debug(t);n.call(this);this.Receiver=e;this.receiveUrl=t;this.AjaxObject=r;this._scheduleReceiver()}s(Polling,n);Polling.prototype._scheduleReceiver=function(){debug("_scheduleReceiver");var e=this;var t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){debug("message",t);e.emit("message",t)}));t.once("close",(function(r,s){debug("close",r,s,e.pollIsClosing);e.poll=t=null;if(!e.pollIsClosing){if(s==="network"){e._scheduleReceiver()}else{e.emit("close",r||1006,s);e.removeAllListeners()}}}))};Polling.prototype.abort=function(){debug("abort");this.removeAllListeners();this.pollIsClosing=true;if(this.poll){this.poll.abort()}};e.exports=Polling},1307:function(e,t,r){"use strict";var s=r(8111),n=r(8337),i=r(3436),o=r(1281);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:sender-receiver")}function SenderReceiver(e,t,r,s,a){var c=n.addPath(e,t);debug(c);var u=this;i.call(this,e,r);this.poll=new o(s,c,a);this.poll.on("message",(function(e){debug("poll message",e);u.emit("message",e)}));this.poll.once("close",(function(e,t){debug("poll close",e,t);u.poll=null;u.emit("close",e,t);u.close()}))}s(SenderReceiver,i);SenderReceiver.prototype.close=function(){i.prototype.close.call(this);debug("close");this.removeAllListeners();if(this.poll){this.poll.abort();this.poll=null}};e.exports=SenderReceiver},4025:function(e,t,r){"use strict";var s=r(8111),n=r(2361).EventEmitter,i=r(4586);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:receiver:eventsource")}function EventSourceReceiver(e){debug(e);n.call(this);var t=this;var r=this.es=new i(e);r.onmessage=function(e){debug("message",e.data);t.emit("message",decodeURI(e.data))};r.onerror=function(e){debug("error",r.readyState,e);var s=r.readyState!==2?"network":"permanent";t._cleanup();t._close(s)}}s(EventSourceReceiver,n);EventSourceReceiver.prototype.abort=function(){debug("abort");this._cleanup();this._close("user")};EventSourceReceiver.prototype._cleanup=function(){debug("cleanup");var e=this.es;if(e){e.onmessage=e.onerror=null;e.close();this.es=null}};EventSourceReceiver.prototype._close=function(e){debug("close",e);var t=this;setTimeout((function(){t.emit("close",null,e);t.removeAllListeners()}),200)};e.exports=EventSourceReceiver},8056:function(e,t,r){"use strict";var s=r(8111),n=r(3012),i=r(8337),o=r(2361).EventEmitter,a=r(9405);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:receiver:htmlfile")}function HtmlfileReceiver(e){debug(e);o.call(this);var t=this;n.polluteGlobalNamespace();this.id="a"+a.string(6);e=i.addQuery(e,"c="+decodeURIComponent(n.WPrefix+"."+this.id));debug("using htmlfile",HtmlfileReceiver.htmlfileEnabled);var r=HtmlfileReceiver.htmlfileEnabled?n.createHtmlfile:n.createIframe;global[n.WPrefix][this.id]={start:function(){debug("start");t.iframeObj.loaded()},message:function(e){debug("message",e);t.emit("message",e)},stop:function(){debug("stop");t._cleanup();t._close("network")}};this.iframeObj=r(e,(function(){debug("callback");t._cleanup();t._close("permanent")}))}s(HtmlfileReceiver,o);HtmlfileReceiver.prototype.abort=function(){debug("abort");this._cleanup();this._close("user")};HtmlfileReceiver.prototype._cleanup=function(){debug("_cleanup");if(this.iframeObj){this.iframeObj.cleanup();this.iframeObj=null}delete global[n.WPrefix][this.id]};HtmlfileReceiver.prototype._close=function(e){debug("_close",e);this.emit("close",null,e);this.removeAllListeners()};HtmlfileReceiver.htmlfileEnabled=false;var c=["Active"].concat("Object").join("X");if(c in global){try{HtmlfileReceiver.htmlfileEnabled=!!new global[c]("htmlfile")}catch(e){}}HtmlfileReceiver.enabled=HtmlfileReceiver.htmlfileEnabled||n.iframeEnabled;e.exports=HtmlfileReceiver},274:function(e,t,r){"use strict";var s=r(3012),n=r(9405),i=r(6579),o=r(8337),a=r(8111),c=r(2361).EventEmitter;var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:receiver:jsonp")}function JsonpReceiver(e){debug(e);var t=this;c.call(this);s.polluteGlobalNamespace();this.id="a"+n.string(6);var r=o.addQuery(e,"c="+encodeURIComponent(s.WPrefix+"."+this.id));global[s.WPrefix][this.id]=this._callback.bind(this);this._createScript(r);this.timeoutId=setTimeout((function(){debug("timeout");t._abort(new Error("JSONP script loaded abnormally (timeout)"))}),JsonpReceiver.timeout)}a(JsonpReceiver,c);JsonpReceiver.prototype.abort=function(){debug("abort");if(global[s.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3;this._abort(e)}};JsonpReceiver.timeout=35e3;JsonpReceiver.scriptErrorTimeout=1e3;JsonpReceiver.prototype._callback=function(e){debug("_callback",e);this._cleanup();if(this.aborting){return}if(e){debug("message",e);this.emit("message",e)}this.emit("close",null,"network");this.removeAllListeners()};JsonpReceiver.prototype._abort=function(e){debug("_abort",e);this._cleanup();this.aborting=true;this.emit("close",e.code,e.message);this.removeAllListeners()};JsonpReceiver.prototype._cleanup=function(){debug("_cleanup");clearTimeout(this.timeoutId);if(this.script2){this.script2.parentNode.removeChild(this.script2);this.script2=null}if(this.script){var e=this.script;e.parentNode.removeChild(e);e.onreadystatechange=e.onerror=e.onload=e.onclick=null;this.script=null}delete global[s.WPrefix][this.id]};JsonpReceiver.prototype._scriptError=function(){debug("_scriptError");var e=this;if(this.errorTimer){return}this.errorTimer=setTimeout((function(){if(!e.loadedOkay){e._abort(new Error("JSONP script loaded abnormally (onerror)"))}}),JsonpReceiver.scriptErrorTimeout)};JsonpReceiver.prototype._createScript=function(e){debug("_createScript",e);var t=this;var r=this.script=global.document.createElement("script");var s;r.id="a"+n.string(8);r.src=e;r.type="text/javascript";r.charset="UTF-8";r.onerror=this._scriptError.bind(this);r.onload=function(){debug("onload");t._abort(new Error("JSONP script loaded abnormally (onload)"))};r.onreadystatechange=function(){debug("onreadystatechange",r.readyState);if(/loaded|closed/.test(r.readyState)){if(r&&r.htmlFor&&r.onclick){t.loadedOkay=true;try{r.onclick()}catch(e){}}if(r){t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}}};if(typeof r.async==="undefined"&&global.document.attachEvent){if(!i.isOpera()){try{r.htmlFor=r.id;r.event="onclick"}catch(e){}r.async=true}else{s=this.script2=global.document.createElement("script");s.text="try{var a = document.getElementById('"+r.id+"'); if(a)a.onerror();}catch(x){};";r.async=s.async=false}}if(typeof r.async!=="undefined"){r.async=true}var o=global.document.getElementsByTagName("head")[0];o.insertBefore(r,o.firstChild);if(s){o.insertBefore(s,o.firstChild)}};e.exports=JsonpReceiver},6770:function(e,t,r){"use strict";var s=r(8111),n=r(2361).EventEmitter;var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:receiver:xhr")}function XhrReceiver(e,t){debug(e);n.call(this);var r=this;this.bufferPosition=0;this.xo=new t("POST",e,null);this.xo.on("chunk",this._chunkHandler.bind(this));this.xo.once("finish",(function(e,t){debug("finish",e,t);r._chunkHandler(e,t);r.xo=null;var s=e===200?"network":"permanent";debug("close",s);r.emit("close",null,s);r._cleanup()}))}s(XhrReceiver,n);XhrReceiver.prototype._chunkHandler=function(e,t){debug("_chunkHandler",e);if(e!==200||!t){return}for(var r=-1;;this.bufferPosition+=r+1){var s=t.slice(this.bufferPosition);r=s.indexOf("\n");if(r===-1){break}var n=s.slice(0,r);if(n){debug("message",n);this.emit("message",n)}}};XhrReceiver.prototype._cleanup=function(){debug("_cleanup");this.removeAllListeners()};XhrReceiver.prototype.abort=function(){debug("abort");if(this.xo){this.xo.close();debug("close");this.emit("close",null,"user");this.xo=null}this._cleanup()};e.exports=XhrReceiver},1526:function(e,t,r){"use strict";var s=r(9405),n=r(8337);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:sender:jsonp")}var i,o;function createIframe(e){debug("createIframe",e);try{return global.document.createElement('<iframe name="'+e+'">')}catch(r){var t=global.document.createElement("iframe");t.name=e;return t}}function createForm(){debug("createForm");i=global.document.createElement("form");i.style.display="none";i.style.position="absolute";i.method="POST";i.enctype="application/x-www-form-urlencoded";i.acceptCharset="UTF-8";o=global.document.createElement("textarea");o.name="d";i.appendChild(o);global.document.body.appendChild(i)}e.exports=function(e,t,r){debug(e,t);if(!i){createForm()}var a="a"+s.string(8);i.target=a;i.action=n.addQuery(n.addPath(e,"/jsonp_send"),"i="+a);var c=createIframe(a);c.id=a;c.style.display="none";i.appendChild(c);try{o.value=t}catch(e){}i.submit();var completed=function(e){debug("completed",a,e);if(!c.onerror){return}c.onreadystatechange=c.onerror=c.onload=null;setTimeout((function(){debug("cleaning up",a);c.parentNode.removeChild(c);c=null}),500);o.value="";r(e)};c.onerror=function(){debug("onerror",a);completed()};c.onload=function(){debug("onload",a);completed()};c.onreadystatechange=function(e){debug("onreadystatechange",a,c.readyState,e);if(c.readyState==="complete"){completed()}};return function(){debug("aborted",a);completed(new Error("Aborted"))}}},713:function(e,t,r){"use strict";var s=r(2361).EventEmitter,n=r(8111),i=r(5346),o=r(6579),a=r(8337);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:sender:xdr")}function XDRObject(e,t,r){debug(e,t);var n=this;s.call(this);setTimeout((function(){n._start(e,t,r)}),0)}n(XDRObject,s);XDRObject.prototype._start=function(e,t,r){debug("_start");var s=this;var n=new global.XDomainRequest;t=a.addQuery(t,"t="+ +new Date);n.onerror=function(){debug("onerror");s._error()};n.ontimeout=function(){debug("ontimeout");s._error()};n.onprogress=function(){debug("progress",n.responseText);s.emit("chunk",200,n.responseText)};n.onload=function(){debug("load");s.emit("finish",200,n.responseText);s._cleanup(false)};this.xdr=n;this.unloadRef=i.unloadAdd((function(){s._cleanup(true)}));try{this.xdr.open(e,t);if(this.timeout){this.xdr.timeout=this.timeout}this.xdr.send(r)}catch(e){this._error()}};XDRObject.prototype._error=function(){this.emit("finish",0,"");this._cleanup(false)};XDRObject.prototype._cleanup=function(e){debug("cleanup",e);if(!this.xdr){return}this.removeAllListeners();i.unloadDel(this.unloadRef);this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null;if(e){try{this.xdr.abort()}catch(e){}}this.unloadRef=this.xdr=null};XDRObject.prototype.close=function(){debug("close");this._cleanup(true)};XDRObject.enabled=!!(global.XDomainRequest&&o.hasDomain());e.exports=XDRObject},1798:function(e,t,r){"use strict";var s=r(8111),n=r(3778);function XHRCorsObject(e,t,r,s){n.call(this,e,t,r,s)}s(XHRCorsObject,n);XHRCorsObject.enabled=n.enabled&&n.supportsCORS;e.exports=XHRCorsObject},4570:function(e,t,r){"use strict";var s=r(2361).EventEmitter,n=r(8111);function XHRFake(){var e=this;s.call(this);this.to=setTimeout((function(){e.emit("finish",200,"{}")}),XHRFake.timeout)}n(XHRFake,s);XHRFake.prototype.close=function(){clearTimeout(this.to)};XHRFake.timeout=2e3;e.exports=XHRFake},7154:function(e,t,r){"use strict";var s=r(8111),n=r(3778);function XHRLocalObject(e,t,r){n.call(this,e,t,r,{noCredentials:true})}s(XHRLocalObject,n);XHRLocalObject.enabled=n.enabled;e.exports=XHRLocalObject},1101:function(e,t,r){"use strict";var s=r(5346),n=r(8337),i=r(8111),o=r(2361).EventEmitter,a=r(3374);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:websocket")}function WebSocketTransport(e,t,r){if(!WebSocketTransport.enabled()){throw new Error("Transport created when disabled")}o.call(this);debug("constructor",e);var i=this;var c=n.addPath(e,"/websocket");if(c.slice(0,5)==="https"){c="wss"+c.slice(5)}else{c="ws"+c.slice(4)}this.url=c;this.ws=new a(this.url,[],r);this.ws.onmessage=function(e){debug("message event",e.data);i.emit("message",e.data)};this.unloadRef=s.unloadAdd((function(){debug("unload");i.ws.close()}));this.ws.onclose=function(e){debug("close event",e.code,e.reason);i.emit("close",e.code,e.reason);i._cleanup()};this.ws.onerror=function(e){debug("error event",e);i.emit("close",1006,"WebSocket connection broken");i._cleanup()}}i(WebSocketTransport,o);WebSocketTransport.prototype.send=function(e){var t="["+e+"]";debug("send",t);this.ws.send(t)};WebSocketTransport.prototype.close=function(){debug("close");var e=this.ws;this._cleanup();if(e){e.close()}};WebSocketTransport.prototype._cleanup=function(){debug("_cleanup");var e=this.ws;if(e){e.onmessage=e.onclose=e.onerror=null}s.unloadDel(this.unloadRef);this.unloadRef=this.ws=null;this.removeAllListeners()};WebSocketTransport.enabled=function(){debug("enabled");return!!a};WebSocketTransport.transportName="websocket";WebSocketTransport.roundTrips=2;e.exports=WebSocketTransport},1968:function(e,t,r){"use strict";var s=r(8111),n=r(5872),i=r(6955),o=r(6770),a=r(713);function XdrPollingTransport(e){if(!a.enabled){throw new Error("Transport created when disabled")}n.call(this,e,"/xhr",o,a)}s(XdrPollingTransport,n);XdrPollingTransport.enabled=i.enabled;XdrPollingTransport.transportName="xdr-polling";XdrPollingTransport.roundTrips=2;e.exports=XdrPollingTransport},6955:function(e,t,r){"use strict";var s=r(8111),n=r(5872),i=r(6770),o=r(713);function XdrStreamingTransport(e){if(!o.enabled){throw new Error("Transport created when disabled")}n.call(this,e,"/xhr_streaming",i,o)}s(XdrStreamingTransport,n);XdrStreamingTransport.enabled=function(e){if(e.cookie_needed||e.nullOrigin){return false}return o.enabled&&e.sameScheme};XdrStreamingTransport.transportName="xdr-streaming";XdrStreamingTransport.roundTrips=2;e.exports=XdrStreamingTransport},825:function(e,t,r){"use strict";var s=r(8111),n=r(5872),i=r(6770),o=r(1798),a=r(7154);function XhrPollingTransport(e){if(!a.enabled&&!o.enabled){throw new Error("Transport created when disabled")}n.call(this,e,"/xhr",i,o)}s(XhrPollingTransport,n);XhrPollingTransport.enabled=function(e){if(e.nullOrigin){return false}if(a.enabled&&e.sameOrigin){return true}return o.enabled};XhrPollingTransport.transportName="xhr-polling";XhrPollingTransport.roundTrips=2;e.exports=XhrPollingTransport},6373:function(e,t,r){"use strict";var s=r(8111),n=r(5872),i=r(6770),o=r(1798),a=r(7154),c=r(6579);function XhrStreamingTransport(e){if(!a.enabled&&!o.enabled){throw new Error("Transport created when disabled")}n.call(this,e,"/xhr_streaming",i,o)}s(XhrStreamingTransport,n);XhrStreamingTransport.enabled=function(e){if(e.nullOrigin){return false}if(c.isOpera()){return false}return o.enabled};XhrStreamingTransport.transportName="xhr-streaming";XhrStreamingTransport.roundTrips=2;XhrStreamingTransport.needBody=!!global.document;e.exports=XhrStreamingTransport},6579:function(e){"use strict";e.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document){return true}try{return!!global.document.domain}catch(e){return false}}}},7441:function(e){"use strict";var t=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,r;var unrollLookup=function(e){var t;var r={};var s=[];for(t=0;t<65536;t++){s.push(String.fromCharCode(t))}e.lastIndex=0;s.join("").replace(e,(function(e){r[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4);return""}));e.lastIndex=0;return r};e.exports={quote:function(e){var s=JSON.stringify(e);t.lastIndex=0;if(!t.test(s)){return s}if(!r){r=unrollLookup(t)}return s.replace(t,(function(e){return r[e]}))}}},5346:function(e,t,r){"use strict";var s=r(9405);var n={},i=false,o=global.chrome&&global.chrome.app&&global.chrome.app.runtime;e.exports={attachEvent:function(e,t){if(typeof global.addEventListener!=="undefined"){global.addEventListener(e,t,false)}else if(global.document&&global.attachEvent){global.document.attachEvent("on"+e,t);global.attachEvent("on"+e,t)}},detachEvent:function(e,t){if(typeof global.addEventListener!=="undefined"){global.removeEventListener(e,t,false)}else if(global.document&&global.detachEvent){global.document.detachEvent("on"+e,t);global.detachEvent("on"+e,t)}},unloadAdd:function(e){if(o){return null}var t=s.string(8);n[t]=e;if(i){setTimeout(this.triggerUnloadCallbacks,0)}return t},unloadDel:function(e){if(e in n){delete n[e]}},triggerUnloadCallbacks:function(){for(var e in n){n[e]();delete n[e]}}};var unloadTriggered=function(){if(i){return}i=true;e.exports.triggerUnloadCallbacks()};if(!o){e.exports.attachEvent("unload",unloadTriggered)}},3012:function(e,t,r){"use strict";var s=r(5346),n=r(6579);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:utils:iframe")}e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){if(!(e.exports.WPrefix in global)){global[e.exports.WPrefix]={}}},postMessage:function(t,r){if(global.parent!==global){global.parent.postMessage(JSON.stringify({windowId:e.exports.currentWindowId,type:t,data:r||""}),"*")}else{debug("Cannot postMessage, no parent window.",t,r)}},createIframe:function(e,t){var r=global.document.createElement("iframe");var n,i;var unattach=function(){debug("unattach");clearTimeout(n);try{r.onload=null}catch(e){}r.onerror=null};var cleanup=function(){debug("cleanup");if(r){unattach();setTimeout((function(){if(r){r.parentNode.removeChild(r)}r=null}),0);s.unloadDel(i)}};var onerror=function(e){debug("onerror",e);if(r){cleanup();t(e)}};var post=function(e,t){debug("post",e,t);setTimeout((function(){try{if(r&&r.contentWindow){r.contentWindow.postMessage(e,t)}}catch(e){}}),0)};r.src=e;r.style.display="none";r.style.position="absolute";r.onerror=function(){onerror("onerror")};r.onload=function(){debug("onload");clearTimeout(n);n=setTimeout((function(){onerror("onload timeout")}),2e3)};global.document.body.appendChild(r);n=setTimeout((function(){onerror("timeout")}),15e3);i=s.unloadAdd(cleanup);return{post:post,cleanup:cleanup,loaded:unattach}},createHtmlfile:function(t,r){var n=["Active"].concat("Object").join("X");var i=new global[n]("htmlfile");var o,a;var c;var unattach=function(){clearTimeout(o);c.onerror=null};var cleanup=function(){if(i){unattach();s.unloadDel(a);c.parentNode.removeChild(c);c=i=null;CollectGarbage()}};var onerror=function(e){debug("onerror",e);if(i){cleanup();r(e)}};var post=function(e,t){try{setTimeout((function(){if(c&&c.contentWindow){c.contentWindow.postMessage(e,t)}}),0)}catch(e){}};i.open();i.write("<html><s"+"cript>"+'document.domain="'+global.document.domain+'";'+"</s"+"cript></html>");i.close();i.parentWindow[e.exports.WPrefix]=global[e.exports.WPrefix];var u=i.createElement("div");i.body.appendChild(u);c=i.createElement("iframe");u.appendChild(c);c.src=t;c.onerror=function(){onerror("onerror")};o=setTimeout((function(){onerror("timeout")}),15e3);a=s.unloadAdd(cleanup);return{post:post,cleanup:cleanup,loaded:unattach}}};e.exports.iframeEnabled=false;if(global.document){e.exports.iframeEnabled=(typeof global.postMessage==="function"||typeof global.postMessage==="object")&&!n.isKonqueror()}},7933:function(e){"use strict";var t={};["log","debug","warn"].forEach((function(e){var r;try{r=global.console&&global.console[e]&&global.console[e].apply}catch(e){}t[e]=r?function(){return global.console[e].apply(global.console,arguments)}:e==="log"?function(){}:t.log}));e.exports=t},9705:function(e){"use strict";e.exports={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e)){return e}var t,r;for(var s=1,n=arguments.length;s<n;s++){t=arguments[s];for(r in t){if(Object.prototype.hasOwnProperty.call(t,r)){e[r]=t[r]}}}return e}}},9405:function(e,t,r){"use strict";var s=r(6113);var n="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(e){var t=n.length;var r=s.randomBytes(e);var i=[];for(var o=0;o<e;o++){i.push(n.substr(r[o]%t,1))}return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;var r=new Array(t+1).join("0");return(r+this.number(e)).slice(-t)}}},9992:function(e,t,r){"use strict";var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:utils:transport")}e.exports=function(e){return{filterToEnabled:function(t,r){var s={main:[],facade:[]};if(!t){t=[]}else if(typeof t==="string"){t=[t]}e.forEach((function(e){if(!e){return}if(e.transportName==="websocket"&&r.websocket===false){debug("disabled from server","websocket");return}if(t.length&&t.indexOf(e.transportName)===-1){debug("not in whitelist",e.transportName);return}if(e.enabled(r)){debug("enabled",e.transportName);s.main.push(e);if(e.facadeTransport){s.facade.push(e.facadeTransport)}}else{debug("disabled",e.transportName)}}));return s}}}},8337:function(e,t,r){"use strict";var s=r(898);var debug=function(){};if(process.env.NODE_ENV!=="production"){debug=r(5823)("sockjs-client:utils:url")}e.exports={getOrigin:function(e){if(!e){return null}var t=new s(e);if(t.protocol==="file:"){return null}var r=t.port;if(!r){r=t.protocol==="https:"?"443":"80"}return t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);debug("same",e,t,r);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}},8027:function(e){e.exports="1.6.0"},1975:function(e,t,r){"use strict";const s=r(2037);const n=r(6224);const i=r(8711);const{env:o}=process;let a;if(i("no-color")||i("no-colors")||i("color=false")||i("color=never")){a=0}else if(i("color")||i("colors")||i("color=true")||i("color=always")){a=1}if("FORCE_COLOR"in o){if(o.FORCE_COLOR==="true"){a=1}else if(o.FORCE_COLOR==="false"){a=0}else{a=o.FORCE_COLOR.length===0?1:Math.min(parseInt(o.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e,t){if(a===0){return 0}if(i("color=16m")||i("color=full")||i("color=truecolor")){return 3}if(i("color=256")){return 2}if(e&&!t&&a===undefined){return 0}const r=a||0;if(o.TERM==="dumb"){return r}if(process.platform==="win32"){const e=s.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in o){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in o))||o.CI_NAME==="codeship"){return 1}return r}if("TEAMCITY_VERSION"in o){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0}if(o.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(o.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)){return 1}if("COLORTERM"in o){return 1}return r}function getSupportLevel(e){const t=supportsColor(e,e&&e.isTTY);return translateLevel(t)}e.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,n.isatty(1))),stderr:translateLevel(supportsColor(true,n.isatty(2)))}},898:function(e,t,r){"use strict";var s=r(7466),n=r(6852),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,f=/^[a-zA-Z]:/;function trimLeft(e){return(e?e:"").toString().replace(i,"")}var l=[["#","hash"],["?","query"],function sanitize(e,t){return isSpecial(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",undefined,1,1],[/:(\d*)$/,"port",undefined,1],[NaN,"hostname",undefined,1,1]];var h={hash:1,query:1};function lolcation(e){var t;if(typeof window!=="undefined")t=window;else if(typeof global!=="undefined")t=global;else if(typeof self!=="undefined")t=self;else t={};var r=t.location||{};e=e||r;var s={},n=typeof e,i;if("blob:"===e.protocol){s=new Url(unescape(e.pathname),{})}else if("string"===n){s=new Url(e,{});for(i in h)delete s[i]}else if("object"===n){for(i in e){if(i in h)continue;s[i]=e[i]}if(s.slashes===undefined){s.slashes=a.test(e.href)}}return s}function isSpecial(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function extractProtocol(e,t){e=trimLeft(e);e=e.replace(o,"");t=t||{};var r=u.exec(e);var s=r[1]?r[1].toLowerCase():"";var n=!!r[2];var i=!!r[3];var a=0;var c;if(n){if(i){c=r[2]+r[3]+r[4];a=r[2].length+r[3].length}else{c=r[2]+r[4];a=r[2].length}}else{if(i){c=r[3]+r[4];a=r[3].length}else{c=r[4]}}if(s==="file:"){if(a>=2){c=c.slice(2)}}else if(isSpecial(s)){c=r[4]}else if(s){if(n){c=c.slice(2)}}else if(a>=2&&isSpecial(t.protocol)){c=r[4]}return{protocol:s,slashes:n||isSpecial(s),slashesCount:a,rest:c}}function resolve(e,t){if(e==="")return t;var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),s=r.length,n=r[s-1],i=false,o=0;while(s--){if(r[s]==="."){r.splice(s,1)}else if(r[s]===".."){r.splice(s,1);o++}else if(o){if(s===0)i=true;r.splice(s,1);o--}}if(i)r.unshift("");if(n==="."||n==="..")r.push("");return r.join("/")}function Url(e,t,r){e=trimLeft(e);e=e.replace(o,"");if(!(this instanceof Url)){return new Url(e,t,r)}var i,a,c,u,h,p,d=l.slice(),v=typeof t,m=this,_=0;if("object"!==v&&"string"!==v){r=t;t=null}if(r&&"function"!==typeof r)r=n.parse;t=lolcation(t);a=extractProtocol(e||"",t);i=!a.protocol&&!a.slashes;m.slashes=a.slashes||i&&t.slashes;m.protocol=a.protocol||t.protocol||"";e=a.rest;if(a.protocol==="file:"&&(a.slashesCount!==2||f.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!isSpecial(m.protocol))){d[3]=[/(.*)/,"pathname"]}for(;_<d.length;_++){u=d[_];if(typeof u==="function"){e=u(e,m);continue}c=u[0];p=u[1];if(c!==c){m[p]=e}else if("string"===typeof c){h=c==="@"?e.lastIndexOf(c):e.indexOf(c);if(~h){if("number"===typeof u[2]){m[p]=e.slice(0,h);e=e.slice(h+u[2])}else{m[p]=e.slice(h);e=e.slice(0,h)}}}else if(h=c.exec(e)){m[p]=h[1];e=e.slice(0,h.index)}m[p]=m[p]||(i&&u[3]?t[p]||"":"");if(u[4])m[p]=m[p].toLowerCase()}if(r)m.query=r(m.query);if(i&&t.slashes&&m.pathname.charAt(0)!=="/"&&(m.pathname!==""||t.pathname!=="")){m.pathname=resolve(m.pathname,t.pathname)}if(m.pathname.charAt(0)!=="/"&&isSpecial(m.protocol)){m.pathname="/"+m.pathname}if(!s(m.port,m.protocol)){m.host=m.hostname;m.port=""}m.username=m.password="";if(m.auth){h=m.auth.indexOf(":");if(~h){m.username=m.auth.slice(0,h);m.username=encodeURIComponent(decodeURIComponent(m.username));m.password=m.auth.slice(h+1);m.password=encodeURIComponent(decodeURIComponent(m.password))}else{m.username=encodeURIComponent(decodeURIComponent(m.auth))}m.auth=m.password?m.username+":"+m.password:m.username}m.origin=m.protocol!=="file:"&&isSpecial(m.protocol)&&m.host?m.protocol+"//"+m.host:"null";m.href=m.toString()}function set(e,t,r){var i=this;switch(e){case"query":if("string"===typeof t&&t.length){t=(r||n.parse)(t)}i[e]=t;break;case"port":i[e]=t;if(!s(t,i.protocol)){i.host=i.hostname;i[e]=""}else if(t){i.host=i.hostname+":"+t}break;case"hostname":i[e]=t;if(i.port)t+=":"+i.port;i.host=t;break;case"host":i[e]=t;if(c.test(t)){t=t.split(":");i.port=t.pop();i.hostname=t.join(":")}else{i.hostname=t;i.port=""}break;case"protocol":i.protocol=t.toLowerCase();i.slashes=!r;break;case"pathname":case"hash":if(t){var o=e==="pathname"?"/":"#";i[e]=t.charAt(0)!==o?o+t:t}else{i[e]=t}break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");if(~a){i.username=t.slice(0,a);i.username=encodeURIComponent(decodeURIComponent(i.username));i.password=t.slice(a+1);i.password=encodeURIComponent(decodeURIComponent(i.password))}else{i.username=encodeURIComponent(decodeURIComponent(t))}}for(var u=0;u<l.length;u++){var f=l[u];if(f[4])i[f[1]]=i[f[1]].toLowerCase()}i.auth=i.password?i.username+":"+i.password:i.username;i.origin=i.protocol!=="file:"&&isSpecial(i.protocol)&&i.host?i.protocol+"//"+i.host:"null";i.href=i.toString();return i}function toString(e){if(!e||"function"!==typeof e)e=n.stringify;var t,r=this,s=r.host,i=r.protocol;if(i&&i.charAt(i.length-1)!==":")i+=":";var o=i+(r.protocol&&r.slashes||isSpecial(r.protocol)?"//":"");if(r.username){o+=r.username;if(r.password)o+=":"+r.password;o+="@"}else if(r.password){o+=":"+r.password;o+="@"}else if(r.protocol!=="file:"&&isSpecial(r.protocol)&&!s&&r.pathname!=="/"){o+="@"}if(s[s.length-1]===":"||c.test(r.hostname)&&!r.port){s+=":"}o+=s+r.pathname;t="object"===typeof r.query?e(r.query):r.query;if(t)o+="?"!==t.charAt(0)?"?"+t:t;if(r.hash)o+=r.hash;return o}Url.prototype={set:set,toString:toString};Url.extractProtocol=extractProtocol;Url.location=lolcation;Url.trimLeft=trimLeft;Url.qs=n;e.exports=Url},5338:function(e,t,r){"use strict";var s=r(6106),n=r(5335),i=r(4726);var o={client:function(e,t){t=t||{};if(t.masking===undefined)t.masking=true;return new n(e,t)},server:function(e){e=e||{};if(e.requireMasking===undefined)e.requireMasking=true;return new i(e)},http:function(){return i.http.apply(i,arguments)},isSecureRequest:function(e){return i.isSecureRequest(e)},isWebSocket:function(e){return s.isWebSocket(e)},validateOptions:function(e,t){s.validateOptions(e,t)}};e.exports=o},6106:function(e,t,r){"use strict";var s=r(4145).Buffer,n=r(2361).EventEmitter,i=r(3837),o=r(6084),a=r(8902),c=r(8703);var Base=function(e,t,r){n.call(this);Base.validateOptions(r||{},["maxLength","masking","requireMasking","protocols"]);this._request=e;this._reader=new c;this._options=r||{};this._maxLength=this._options.maxLength||this.MAX_LENGTH;this._headers=new a;this.__queue=[];this.readyState=0;this.url=t;this.io=new o.IO(this);this.messages=new o.Messages(this);this._bindEventListeners()};i.inherits(Base,n);Base.isWebSocket=function(e){var t=e.headers.connection||"",r=e.headers.upgrade||"";return e.method==="GET"&&t.toLowerCase().split(/ *, */).indexOf("upgrade")>=0&&r.toLowerCase()==="websocket"};Base.validateOptions=function(e,t){for(var r in e){if(t.indexOf(r)<0)throw new Error("Unrecognized option: "+r)}};var u={MAX_LENGTH:67108863,STATES:["connecting","open","closing","closed"],_bindEventListeners:function(){var e=this;this.messages.on("error",(function(){}));this.on("message",(function(t){var r=e.messages;if(r.readable)r.emit("data",t.data)}));this.on("error",(function(t){var r=e.messages;if(r.readable)r.emit("error",t)}));this.on("close",(function(){var t=e.messages;if(!t.readable)return;t.readable=t.writable=false;t.emit("end")}))},getState:function(){return this.STATES[this.readyState]||null},addExtension:function(e){return false},setHeader:function(e,t){if(this.readyState>0)return false;this._headers.set(e,t);return true},start:function(){if(this.readyState!==0)return false;if(!Base.isWebSocket(this._request))return this._failHandshake(new Error("Not a WebSocket request"));var e;try{e=this._handshakeResponse()}catch(e){return this._failHandshake(e)}this._write(e);if(this._stage!==-1)this._open();return true},_failHandshake:function(e){var t=new a;t.set("Content-Type","text/plain");t.set("Content-Length",s.byteLength(e.message,"utf8"));t=["HTTP/1.1 400 Bad Request",t.toString(),e.message];this._write(s.from(t.join("\r\n"),"utf8"));this._fail("protocol_error",e.message);return false},text:function(e){return this.frame(e)},binary:function(e){return false},ping:function(){return false},pong:function(){return false},close:function(e,t){if(this.readyState!==1)return false;this.readyState=3;this.emit("close",new Base.CloseEvent(null,null));return true},_open:function(){this.readyState=1;this.__queue.forEach((function(e){this.frame.apply(this,e)}),this);this.__queue=[];this.emit("open",new Base.OpenEvent)},_queue:function(e){this.__queue.push(e);return true},_write:function(e){var t=this.io;if(t.readable)t.emit("data",e)},_fail:function(e,t){this.readyState=2;this.emit("error",new Error(t));this.close()}};for(var f in u)Base.prototype[f]=u[f];Base.ConnectEvent=function(){};Base.OpenEvent=function(){};Base.CloseEvent=function(e,t){this.code=e;this.reason=t};Base.MessageEvent=function(e){this.data=e};Base.PingEvent=function(e){this.data=e};Base.PongEvent=function(e){this.data=e};e.exports=Base},5335:function(e,t,r){"use strict";var s=r(4145).Buffer,n=r(6113),i=r(7310),o=r(3837),a=r(2404),c=r(6106),u=r(8376),f=r(4996);var Client=function(e,t){this.version="hybi-"+u.VERSION;u.call(this,null,e,t);this.readyState=-1;this._key=Client.generateKey();this._accept=u.generateAccept(this._key);this._http=new a("response");var r=i.parse(this.url),n=r.auth&&s.from(r.auth,"utf8").toString("base64");if(this.VALID_PROTOCOLS.indexOf(r.protocol)<0)throw new Error(this.url+" is not a valid WebSocket URL");this._pathname=(r.pathname||"/")+(r.search||"");this._headers.set("Host",r.host);this._headers.set("Upgrade","websocket");this._headers.set("Connection","Upgrade");this._headers.set("Sec-WebSocket-Key",this._key);this._headers.set("Sec-WebSocket-Version",u.VERSION);if(this._protocols.length>0)this._headers.set("Sec-WebSocket-Protocol",this._protocols.join(", "));if(n)this._headers.set("Authorization","Basic "+n)};o.inherits(Client,u);Client.generateKey=function(){return n.randomBytes(16).toString("base64")};var l={VALID_PROTOCOLS:["ws:","wss:"],proxy:function(e,t){return new f(this,e,t)},start:function(){if(this.readyState!==-1)return false;this._write(this._handshakeRequest());this.readyState=0;return true},parse:function(e){if(this.readyState===3)return;if(this.readyState>0)return u.prototype.parse.call(this,e);this._http.parse(e);if(!this._http.isComplete())return;this._validateHandshake();if(this.readyState===3)return;this._open();this.parse(this._http.body)},_handshakeRequest:function(){var e=this._extensions.generateOffer();if(e)this._headers.set("Sec-WebSocket-Extensions",e);var t="GET "+this._pathname+" HTTP/1.1",r=[t,this._headers.toString(),""];return s.from(r.join("\r\n"),"utf8")},_failHandshake:function(e){e="Error during WebSocket handshake: "+e;this.readyState=3;this.emit("error",new Error(e));this.emit("close",new c.CloseEvent(this.ERRORS.protocol_error,e))},_validateHandshake:function(){this.statusCode=this._http.statusCode;this.headers=this._http.headers;if(this._http.error)return this._failHandshake(this._http.error.message);if(this._http.statusCode!==101)return this._failHandshake("Unexpected response code: "+this._http.statusCode);var e=this._http.headers,t=e["upgrade"]||"",r=e["connection"]||"",s=e["sec-websocket-accept"]||"",n=e["sec-websocket-protocol"]||"";if(t==="")return this._failHandshake("'Upgrade' header is missing");if(t.toLowerCase()!=="websocket")return this._failHandshake("'Upgrade' header value is not 'WebSocket'");if(r==="")return this._failHandshake("'Connection' header is missing");if(r.toLowerCase()!=="upgrade")return this._failHandshake("'Connection' header value is not 'Upgrade'");if(s!==this._accept)return this._failHandshake("Sec-WebSocket-Accept mismatch");this.protocol=null;if(n!==""){if(this._protocols.indexOf(n)<0)return this._failHandshake("Sec-WebSocket-Protocol mismatch");else this.protocol=n}try{this._extensions.activate(this.headers["sec-websocket-extensions"])}catch(e){return this._failHandshake(e.message)}}};for(var h in l)Client.prototype[h]=l[h];e.exports=Client},3586:function(e,t,r){"use strict";var s=r(4145).Buffer,n=r(6106),i=r(3837);var Draft75=function(e,t,r){n.apply(this,arguments);this._stage=0;this.version="hixie-75";this._headers.set("Upgrade","WebSocket");this._headers.set("Connection","Upgrade");this._headers.set("WebSocket-Origin",this._request.headers.origin);this._headers.set("WebSocket-Location",this.url)};i.inherits(Draft75,n);var o={close:function(){if(this.readyState===3)return false;this.readyState=3;this.emit("close",new n.CloseEvent(null,null));return true},parse:function(e){if(this.readyState>1)return;this._reader.put(e);this._reader.eachByte((function(e){var t;switch(this._stage){case-1:this._body.push(e);this._sendHandshakeBody();break;case 0:this._parseLeadingByte(e);break;case 1:this._length=(e&127)+128*this._length;if(this._closing&&this._length===0){return this.close()}else if((e&128)!==128){if(this._length===0){this._stage=0}else{this._skipped=0;this._stage=2}}break;case 2:if(e===255){this._stage=0;t=s.from(this._buffer).toString("utf8",0,this._buffer.length);this.emit("message",new n.MessageEvent(t))}else{if(this._length){this._skipped+=1;if(this._skipped===this._length)this._stage=0}else{this._buffer.push(e);if(this._buffer.length>this._maxLength)return this.close()}}break}}),this)},frame:function(e){if(this.readyState===0)return this._queue([e]);if(this.readyState>1)return false;if(typeof e!=="string")e=e.toString();var t=s.byteLength(e),r=s.allocUnsafe(t+2);r[0]=0;r.write(e,1);r[r.length-1]=255;this._write(r);return true},_handshakeResponse:function(){var e="HTTP/1.1 101 Web Socket Protocol Handshake",t=[e,this._headers.toString(),""];return s.from(t.join("\r\n"),"utf8")},_parseLeadingByte:function(e){if((e&128)===128){this._length=0;this._stage=1}else{delete this._length;delete this._skipped;this._buffer=[];this._stage=2}}};for(var a in o)Draft75.prototype[a]=o[a];e.exports=Draft75},6761:function(e,t,r){"use strict";var s=r(4145).Buffer,n=r(6106),i=r(3586),o=r(6113),a=r(3837);var numberFromKey=function(e){return parseInt((e.match(/[0-9]/g)||[]).join(""),10)};var spacesInKey=function(e){return(e.match(/ /g)||[]).length};var Draft76=function(e,t,r){i.apply(this,arguments);this._stage=-1;this._body=[];this.version="hixie-76";this._headers.clear();this._headers.set("Upgrade","WebSocket");this._headers.set("Connection","Upgrade");this._headers.set("Sec-WebSocket-Origin",this._request.headers.origin);this._headers.set("Sec-WebSocket-Location",this.url)};a.inherits(Draft76,i);var c={BODY_SIZE:8,start:function(){if(!i.prototype.start.call(this))return false;this._started=true;this._sendHandshakeBody();return true},close:function(){if(this.readyState===3)return false;if(this.readyState===1)this._write(s.from([255,0]));this.readyState=3;this.emit("close",new n.CloseEvent(null,null));return true},_handshakeResponse:function(){var e=this._request.headers,t=e["sec-websocket-key1"],r=e["sec-websocket-key2"];if(!t)throw new Error("Missing required header: Sec-WebSocket-Key1");if(!r)throw new Error("Missing required header: Sec-WebSocket-Key2");var n=numberFromKey(t),i=spacesInKey(t),o=numberFromKey(r),a=spacesInKey(r);if(n%i!==0||o%a!==0)throw new Error("Client sent invalid Sec-WebSocket-Key headers");this._keyValues=[n/i,o/a];var c="HTTP/1.1 101 WebSocket Protocol Handshake",e=[c,this._headers.toString(),""];return s.from(e.join("\r\n"),"binary")},_handshakeSignature:function(){if(this._body.length<this.BODY_SIZE)return null;var e=o.createHash("md5"),t=s.allocUnsafe(8+this.BODY_SIZE);t.writeUInt32BE(this._keyValues[0],0);t.writeUInt32BE(this._keyValues[1],4);s.from(this._body).copy(t,8,0,this.BODY_SIZE);e.update(t);return s.from(e.digest("binary"),"binary")},_sendHandshakeBody:function(){if(!this._started)return;var e=this._handshakeSignature();if(!e)return;this._write(e);this._stage=0;this._open();if(this._body.length>this.BODY_SIZE)this.parse(this._body.slice(this.BODY_SIZE))},_parseLeadingByte:function(e){if(e!==255)return i.prototype._parseLeadingByte.call(this,e);this._closing=true;this._length=0;this._stage=1}};for(var u in c)Draft76.prototype[u]=c[u];e.exports=Draft76},8902:function(e){"use strict";var Headers=function(){this.clear()};Headers.prototype.ALLOWED_DUPLICATES=["set-cookie","set-cookie2","warning","www-authenticate"];Headers.prototype.clear=function(){this._sent={};this._lines=[]};Headers.prototype.set=function(e,t){if(t===undefined)return;e=this._strip(e);t=this._strip(t);var r=e.toLowerCase();if(!this._sent.hasOwnProperty(r)||this.ALLOWED_DUPLICATES.indexOf(r)>=0){this._sent[r]=true;this._lines.push(e+": "+t+"\r\n")}};Headers.prototype.toString=function(){return this._lines.join("")};Headers.prototype._strip=function(e){return e.toString().replace(/^ */,"").replace(/ *$/,"")};e.exports=Headers},8376:function(e,t,r){"use strict";var s=r(4145).Buffer,n=r(6113),i=r(3837),o=r(7413),a=r(6106),c=r(601),u=r(7280);var Hybi=function(e,t,r){a.apply(this,arguments);this._extensions=new o;this._stage=0;this._masking=this._options.masking;this._protocols=this._options.protocols||[];this._requireMasking=this._options.requireMasking;this._pingCallbacks={};if(typeof this._protocols==="string")this._protocols=this._protocols.split(/ *, */);if(!this._request)return;var s=this._request.headers["sec-websocket-protocol"],n=this._protocols;if(s!==undefined){if(typeof s==="string")s=s.split(/ *, */);this.protocol=s.filter((function(e){return n.indexOf(e)>=0}))[0]}this.version="hybi-"+Hybi.VERSION};i.inherits(Hybi,a);Hybi.VERSION="13";Hybi.mask=function(e,t,r){if(!t||t.length===0)return e;r=r||0;for(var s=0,n=e.length-r;s<n;s++){e[r+s]=e[r+s]^t[s%4]}return e};Hybi.generateAccept=function(e){var t=n.createHash("sha1");t.update(e+Hybi.GUID);return t.digest("base64")};Hybi.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11";var f={FIN:128,MASK:128,RSV1:64,RSV2:32,RSV3:16,OPCODE:15,LENGTH:127,OPCODES:{continuation:0,text:1,binary:2,close:8,ping:9,pong:10},OPCODE_CODES:[0,1,2,8,9,10],MESSAGE_OPCODES:[0,1,2],OPENING_OPCODES:[1,2],ERRORS:{normal_closure:1e3,going_away:1001,protocol_error:1002,unacceptable:1003,encoding_error:1007,policy_violation:1008,too_large:1009,extension_error:1010,unexpected_condition:1011},ERROR_CODES:[1e3,1001,1002,1003,1007,1008,1009,1010,1011],DEFAULT_ERROR_CODE:1e3,MIN_RESERVED_ERROR:3e3,MAX_RESERVED_ERROR:4999,UTF8_MATCH:/^([\x00-\x7F]|[\xC2-\xDF][\x80-\xBF]|\xE0[\xA0-\xBF][\x80-\xBF]|[\xE1-\xEC\xEE\xEF][\x80-\xBF]{2}|\xED[\x80-\x9F][\x80-\xBF]|\xF0[\x90-\xBF][\x80-\xBF]{2}|[\xF1-\xF3][\x80-\xBF]{3}|\xF4[\x80-\x8F][\x80-\xBF]{2})*$/,addExtension:function(e){this._extensions.add(e);return true},parse:function(e){this._reader.put(e);var t=true;while(t){switch(this._stage){case 0:t=this._reader.read(1);if(t)this._parseOpcode(t[0]);break;case 1:t=this._reader.read(1);if(t)this._parseLength(t[0]);break;case 2:t=this._reader.read(this._frame.lengthBytes);if(t)this._parseExtendedLength(t);break;case 3:t=this._reader.read(4);if(t){this._stage=4;this._frame.maskingKey=t}break;case 4:t=this._reader.read(this._frame.length);if(t){this._stage=0;this._emitFrame(t)}break;default:t=null}}},text:function(e){if(this.readyState>1)return false;return this.frame(e,"text")},binary:function(e){if(this.readyState>1)return false;return this.frame(e,"binary")},ping:function(e,t){if(this.readyState>1)return false;e=e||"";if(t)this._pingCallbacks[e]=t;return this.frame(e,"ping")},pong:function(e){if(this.readyState>1)return false;e=e||"";return this.frame(e,"pong")},close:function(e,t){e=e||"";t=t||this.ERRORS.normal_closure;if(this.readyState<=0){this.readyState=3;this.emit("close",new a.CloseEvent(t,e));return true}else if(this.readyState===1){this.readyState=2;this._extensions.close((function(){this.frame(e,"close",t)}),this);return true}else{return false}},frame:function(e,t,r){if(this.readyState<=0)return this._queue([e,t,r]);if(this.readyState>2)return false;if(e instanceof Array)e=s.from(e);if(typeof e==="number")e=e.toString();var i=new u,o=typeof e==="string",a,f;i.rsv1=i.rsv2=i.rsv3=false;i.opcode=this.OPCODES[t||(o?"text":"binary")];a=o?s.from(e,"utf8"):e;if(r){f=a;a=s.allocUnsafe(2+f.length);a.writeUInt16BE(r,0);f.copy(a,2)}i.data=a;var onMessageReady=function(e){var t=new c;t.final=true;t.rsv1=e.rsv1;t.rsv2=e.rsv2;t.rsv3=e.rsv3;t.opcode=e.opcode;t.masked=!!this._masking;t.length=e.data.length;t.payload=e.data;if(t.masked)t.maskingKey=n.randomBytes(4);this._sendFrame(t)};if(this.MESSAGE_OPCODES.indexOf(i.opcode)>=0)this._extensions.processOutgoingMessage(i,(function(e,t){if(e)return this._fail("extension_error",e.message);onMessageReady.call(this,t)}),this);else onMessageReady.call(this,i);return true},_sendFrame:function(e){var t=e.length,r=t<=125?2:t<=65535?4:10,n=r+(e.masked?4:0),i=s.allocUnsafe(n+t),o=e.masked?this.MASK:0;i[0]=(e.final?this.FIN:0)|(e.rsv1?this.RSV1:0)|(e.rsv2?this.RSV2:0)|(e.rsv3?this.RSV3:0)|e.opcode;if(t<=125){i[1]=o|t}else if(t<=65535){i[1]=o|126;i.writeUInt16BE(t,2)}else{i[1]=o|127;i.writeUInt32BE(Math.floor(t/4294967296),2);i.writeUInt32BE(t%4294967296,6)}e.payload.copy(i,n);if(e.masked){e.maskingKey.copy(i,r);Hybi.mask(i,e.maskingKey,n)}this._write(i)},_handshakeResponse:function(){var e=this._request.headers["sec-websocket-key"],t=this._request.headers["sec-websocket-version"];if(t!==Hybi.VERSION)throw new Error("Unsupported WebSocket version: "+t);if(typeof e!=="string")throw new Error("Missing handshake request header: Sec-WebSocket-Key");this._headers.set("Upgrade","websocket");this._headers.set("Connection","Upgrade");this._headers.set("Sec-WebSocket-Accept",Hybi.generateAccept(e));if(this.protocol)this._headers.set("Sec-WebSocket-Protocol",this.protocol);var r=this._extensions.generateResponse(this._request.headers["sec-websocket-extensions"]);if(r)this._headers.set("Sec-WebSocket-Extensions",r);var n="HTTP/1.1 101 Switching Protocols",i=[n,this._headers.toString(),""];return s.from(i.join("\r\n"),"utf8")},_shutdown:function(e,t,r){delete this._frame;delete this._message;this._stage=5;var s=this.readyState===1;this.readyState=2;this._extensions.close((function(){if(s)this.frame(t,"close",e);this.readyState=3;if(r)this.emit("error",new Error(t));this.emit("close",new a.CloseEvent(e,t))}),this)},_fail:function(e,t){if(this.readyState>1)return;this._shutdown(this.ERRORS[e],t,true)},_parseOpcode:function(e){var t=[this.RSV1,this.RSV2,this.RSV3].map((function(t){return(e&t)===t}));var r=this._frame=new c;r.final=(e&this.FIN)===this.FIN;r.rsv1=t[0];r.rsv2=t[1];r.rsv3=t[2];r.opcode=e&this.OPCODE;this._stage=1;if(!this._extensions.validFrameRsv(r))return this._fail("protocol_error","One or more reserved bits are on: reserved1 = "+(r.rsv1?1:0)+", reserved2 = "+(r.rsv2?1:0)+", reserved3 = "+(r.rsv3?1:0));if(this.OPCODE_CODES.indexOf(r.opcode)<0)return this._fail("protocol_error","Unrecognized frame opcode: "+r.opcode);if(this.MESSAGE_OPCODES.indexOf(r.opcode)<0&&!r.final)return this._fail("protocol_error","Received fragmented control frame: opcode = "+r.opcode);if(this._message&&this.OPENING_OPCODES.indexOf(r.opcode)>=0)return this._fail("protocol_error","Received new data frame but previous continuous frame is unfinished")},_parseLength:function(e){var t=this._frame;t.masked=(e&this.MASK)===this.MASK;t.length=e&this.LENGTH;if(t.length>=0&&t.length<=125){this._stage=t.masked?3:4;if(!this._checkFrameLength())return}else{this._stage=2;t.lengthBytes=t.length===126?2:8}if(this._requireMasking&&!t.masked)return this._fail("unacceptable","Received unmasked frame but masking is required")},_parseExtendedLength:function(e){var t=this._frame;t.length=this._readUInt(e);this._stage=t.masked?3:4;if(this.MESSAGE_OPCODES.indexOf(t.opcode)<0&&t.length>125)return this._fail("protocol_error","Received control frame having too long payload: "+t.length);if(!this._checkFrameLength())return},_checkFrameLength:function(){var e=this._message?this._message.length:0;if(e+this._frame.length>this._maxLength){this._fail("too_large","WebSocket frame length too large");return false}else{return true}},_emitFrame:function(e){var t=this._frame,r=t.payload=Hybi.mask(e,t.maskingKey),s=t.opcode,n,i,o,c,f;delete this._frame;if(s===this.OPCODES.continuation){if(!this._message)return this._fail("protocol_error","Received unexpected continuation frame");this._message.pushFrame(t)}if(s===this.OPCODES.text||s===this.OPCODES.binary){this._message=new u;this._message.pushFrame(t)}if(t.final&&this.MESSAGE_OPCODES.indexOf(s)>=0)return this._emitMessage(this._message);if(s===this.OPCODES.close){i=r.length>=2?r.readUInt16BE(0):null;o=r.length>2?this._encode(r.slice(2)):null;if(!(r.length===0)&&!(i!==null&&i>=this.MIN_RESERVED_ERROR&&i<=this.MAX_RESERVED_ERROR)&&this.ERROR_CODES.indexOf(i)<0)i=this.ERRORS.protocol_error;if(r.length>125||r.length>2&&!o)i=this.ERRORS.protocol_error;this._shutdown(i||this.DEFAULT_ERROR_CODE,o||"")}if(s===this.OPCODES.ping){this.frame(r,"pong");this.emit("ping",new a.PingEvent(r.toString()))}if(s===this.OPCODES.pong){c=this._pingCallbacks;n=this._encode(r);f=c[n];delete c[n];if(f)f();this.emit("pong",new a.PongEvent(r.toString()))}},_emitMessage:function(e){var e=this._message;e.read();delete this._message;this._extensions.processIncomingMessage(e,(function(e,t){if(e)return this._fail("extension_error",e.message);var r=t.data;if(t.opcode===this.OPCODES.text)r=this._encode(r);if(r===null)return this._fail("encoding_error","Could not decode a text frame as UTF-8");else this.emit("message",new a.MessageEvent(r))}),this)},_encode:function(e){try{var t=e.toString("binary",0,e.length);if(!this.UTF8_MATCH.test(t))return null}catch(e){}return e.toString("utf8",0,e.length)},_readUInt:function(e){if(e.length===2)return e.readUInt16BE(0);return e.readUInt32BE(0)*4294967296+e.readUInt32BE(4)}};for(var l in f)Hybi.prototype[l]=f[l];e.exports=Hybi},601:function(e){"use strict";var Frame=function(){};var t={final:false,rsv1:false,rsv2:false,rsv3:false,opcode:null,masked:false,maskingKey:null,lengthBytes:1,length:0,payload:null};for(var r in t)Frame.prototype[r]=t[r];e.exports=Frame},7280:function(e,t,r){"use strict";var s=r(4145).Buffer;var Message=function(){this.rsv1=false;this.rsv2=false;this.rsv3=false;this.opcode=null;this.length=0;this._chunks=[]};var n={read:function(){return this.data=this.data||s.concat(this._chunks,this.length)},pushFrame:function(e){this.rsv1=this.rsv1||e.rsv1;this.rsv2=this.rsv2||e.rsv2;this.rsv3=this.rsv3||e.rsv3;if(this.opcode===null)this.opcode=e.opcode;this._chunks.push(e.payload);this.length+=e.length}};for(var i in n)Message.prototype[i]=n[i];e.exports=Message},4996:function(e,t,r){"use strict";var s=r(4145).Buffer,n=r(2781).Stream,i=r(7310),o=r(3837),a=r(6106),c=r(8902),u=r(2404);var f={"ws:":80,"wss:":443};var Proxy=function(e,t,r){this._client=e;this._http=new u("response");this._origin=typeof e.url==="object"?e.url:i.parse(e.url);this._url=typeof t==="object"?t:i.parse(t);this._options=r||{};this._state=0;this.readable=this.writable=true;this._paused=false;this._headers=new c;this._headers.set("Host",this._origin.host);this._headers.set("Connection","keep-alive");this._headers.set("Proxy-Connection","keep-alive");var n=this._url.auth&&s.from(this._url.auth,"utf8").toString("base64");if(n)this._headers.set("Proxy-Authorization","Basic "+n)};o.inherits(Proxy,n);var l={setHeader:function(e,t){if(this._state!==0)return false;this._headers.set(e,t);return true},start:function(){if(this._state!==0)return false;this._state=1;var e=this._origin,t=e.port||f[e.protocol],r="CONNECT "+e.hostname+":"+t+" HTTP/1.1";var n=[r,this._headers.toString(),""];this.emit("data",s.from(n.join("\r\n"),"utf8"));return true},pause:function(){this._paused=true},resume:function(){this._paused=false;this.emit("drain")},write:function(e){if(!this.writable)return false;this._http.parse(e);if(!this._http.isComplete())return!this._paused;this.statusCode=this._http.statusCode;this.headers=this._http.headers;if(this.statusCode===200){this.emit("connect",new a.ConnectEvent)}else{var t="Can't establish a connection to the server at "+this._origin.href;this.emit("error",new Error(t))}this.end();return!this._paused},end:function(e){if(!this.writable)return;if(e!==undefined)this.write(e);this.readable=this.writable=false;this.emit("close");this.emit("end")},destroy:function(){this.end()}};for(var h in l)Proxy.prototype[h]=l[h];e.exports=Proxy},4726:function(e,t,r){"use strict";var s=r(3837),n=r(2404),i=r(6106),o=r(3586),a=r(6761),c=r(8376);var Server=function(e){i.call(this,null,null,e);this._http=new n("request")};s.inherits(Server,i);var u={EVENTS:["open","message","error","close","ping","pong"],_bindEventListeners:function(){this.messages.on("error",(function(){}));this.on("error",(function(){}))},parse:function(e){if(this._delegate)return this._delegate.parse(e);this._http.parse(e);if(!this._http.isComplete())return;this.method=this._http.method;this.url=this._http.url;this.headers=this._http.headers;this.body=this._http.body;var t=this;this._delegate=Server.http(this,this._options);this._delegate.messages=this.messages;this._delegate.io=this.io;this._open();this.EVENTS.forEach((function(e){this._delegate.on(e,(function(r){t.emit(e,r)}))}),this);this.protocol=this._delegate.protocol;this.version=this._delegate.version;this.parse(this._http.body);this.emit("connect",new i.ConnectEvent)},_open:function(){this.__queue.forEach((function(e){this._delegate[e[0]].apply(this._delegate,e[1])}),this);this.__queue=[]}};["addExtension","setHeader","start","frame","text","binary","ping","close"].forEach((function(e){u[e]=function(){if(this._delegate){return this._delegate[e].apply(this._delegate,arguments)}else{this.__queue.push([e,arguments]);return true}}}));for(var f in u)Server.prototype[f]=u[f];Server.isSecureRequest=function(e){if(e.connection&&e.connection.authorized!==undefined)return true;if(e.socket&&e.socket.secure)return true;var t=e.headers;if(!t)return false;if(t["https"]==="on")return true;if(t["x-forwarded-ssl"]==="on")return true;if(t["x-forwarded-scheme"]==="https")return true;if(t["x-forwarded-proto"]==="https")return true;return false};Server.determineUrl=function(e){var t=this.isSecureRequest(e)?"wss:":"ws:";return t+"//"+e.headers.host+e.url};Server.http=function(e,t){t=t||{};if(t.requireMasking===undefined)t.requireMasking=true;var r=e.headers,s=r["sec-websocket-version"],n=r["sec-websocket-key"],i=r["sec-websocket-key1"],u=r["sec-websocket-key2"],f=this.determineUrl(e);if(s||n)return new c(e,f,t);else if(i||u)return new a(e,f,t);else return new o(e,f,t)};e.exports=Server},8703:function(e,t,r){"use strict";var s=r(4145).Buffer;var StreamReader=function(){this._queue=[];this._queueSize=0;this._offset=0};StreamReader.prototype.put=function(e){if(!e||e.length===0)return;if(!s.isBuffer(e))e=s.from(e);this._queue.push(e);this._queueSize+=e.length};StreamReader.prototype.read=function(e){if(e>this._queueSize)return null;if(e===0)return s.alloc(0);this._queueSize-=e;var t=this._queue,r=e,n=t[0],i,o;if(n.length>=e){if(n.length===e){return t.shift()}else{o=n.slice(0,e);t[0]=n.slice(e);return o}}for(var a=0,c=t.length;a<c;a++){if(r<t[a].length)break;r-=t[a].length}i=t.splice(0,a);if(r>0&&t.length>0){i.push(t[0].slice(0,r));t[0]=t[0].slice(r)}return s.concat(i,e)};StreamReader.prototype.eachByte=function(e,t){var r,s,n;while(this._queue.length>0){r=this._queue[0];s=r.length;while(this._offset<s){n=this._offset;this._offset+=1;e.call(t,r[n])}this._offset=0;this._queue.shift()}};e.exports=StreamReader},2404:function(e,t,r){"use strict";var s=r(8898).m,n=r(4145).Buffer;var i={request:s.REQUEST||"request",response:s.RESPONSE||"response"};var HttpParser=function(e){this._type=e;this._parser=new s(i[e]);this._complete=false;this.headers={};var t=null,r=this;this._parser.onHeaderField=function(e,r,s){t=e.toString("utf8",r,r+s).toLowerCase()};this._parser.onHeaderValue=function(e,s,n){var i=e.toString("utf8",s,s+n);if(r.headers.hasOwnProperty(t))r.headers[t]+=", "+i;else r.headers[t]=i};this._parser.onHeadersComplete=this._parser[s.kOnHeadersComplete]=function(e,t,s,n,i,o){var a=arguments[0];if(typeof a==="object"){n=a.method;i=a.url;o=a.statusCode;s=a.headers}r.method=typeof n==="number"?HttpParser.METHODS[n]:n;r.statusCode=o;r.url=i;if(!s)return;for(var c=0,u=s.length,f,l;c<u;c+=2){f=s[c].toLowerCase();l=s[c+1];if(r.headers.hasOwnProperty(f))r.headers[f]+=", "+l;else r.headers[f]=l}r._complete=true}};HttpParser.METHODS={0:"DELETE",1:"GET",2:"HEAD",3:"POST",4:"PUT",5:"CONNECT",6:"OPTIONS",7:"TRACE",8:"COPY",9:"LOCK",10:"MKCOL",11:"MOVE",12:"PROPFIND",13:"PROPPATCH",14:"SEARCH",15:"UNLOCK",16:"BIND",17:"REBIND",18:"UNBIND",19:"ACL",20:"REPORT",21:"MKACTIVITY",22:"CHECKOUT",23:"MERGE",24:"M-SEARCH",25:"NOTIFY",26:"SUBSCRIBE",27:"UNSUBSCRIBE",28:"PATCH",29:"PURGE",30:"MKCALENDAR",31:"LINK",32:"UNLINK"};var o=process.version?process.version.match(/[0-9]+/g).map((function(e){return parseInt(e,10)})):[];if(o[0]===0&&o[1]===12){HttpParser.METHODS[16]="REPORT";HttpParser.METHODS[17]="MKACTIVITY";HttpParser.METHODS[18]="CHECKOUT";HttpParser.METHODS[19]="MERGE";HttpParser.METHODS[20]="M-SEARCH";HttpParser.METHODS[21]="NOTIFY";HttpParser.METHODS[22]="SUBSCRIBE";HttpParser.METHODS[23]="UNSUBSCRIBE";HttpParser.METHODS[24]="PATCH";HttpParser.METHODS[25]="PURGE"}HttpParser.prototype.isComplete=function(){return this._complete};HttpParser.prototype.parse=function(e){var t=this._parser.execute(e,0,e.length);if(typeof t!=="number"){this.error=t;this._complete=true;return}if(this._complete)this.body=t<e.length?e.slice(t):n.alloc(0)};e.exports=HttpParser},6084:function(e,t,r){"use strict";var s=r(2781).Stream,n=r(3837);var IO=function(e){this.readable=this.writable=true;this._paused=false;this._driver=e};n.inherits(IO,s);IO.prototype.pause=function(){this._paused=true;this._driver.messages._paused=true};IO.prototype.resume=function(){this._paused=false;this.emit("drain");var e=this._driver.messages;e._paused=false;e.emit("drain")};IO.prototype.write=function(e){if(!this.writable)return false;this._driver.parse(e);return!this._paused};IO.prototype.end=function(e){if(!this.writable)return;if(e!==undefined)this.write(e);this.writable=false;var t=this._driver.messages;if(t.readable){t.readable=t.writable=false;t.emit("end")}};IO.prototype.destroy=function(){this.end()};var Messages=function(e){this.readable=this.writable=true;this._paused=false;this._driver=e};n.inherits(Messages,s);Messages.prototype.pause=function(){this._driver.io._paused=true};Messages.prototype.resume=function(){this._driver.io._paused=false;this._driver.io.emit("drain")};Messages.prototype.write=function(e){if(!this.writable)return false;if(typeof e==="string")this._driver.text(e);else this._driver.binary(e);return!this._paused};Messages.prototype.end=function(e){if(e!==undefined)this.write(e)};Messages.prototype.destroy=function(){};t.IO=IO;t.Messages=Messages},9282:function(e){"use strict";var t=/([!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z]+)/,r=/([^!#\$%&'\*\+\-\.\^_`\|~0-9A-Za-z])/g,s=/"((?:\\[\x00-\x7f]|[^\x00-\x08\x0a-\x1f\x7f"\\])*)"/,n=new RegExp(t.source+"(?:=(?:"+t.source+"|"+s.source+"))?"),i=new RegExp(t.source+"(?: *; *"+n.source+")*","g"),o=new RegExp("^"+i.source+"(?: *, *"+i.source+")*$"),a=/^-?(0|[1-9][0-9]*)(\.[0-9]+)?$/;var c=Object.prototype.hasOwnProperty;var u={parseHeader:function(e){var t=new Offers;if(e===""||e===undefined)return t;if(!o.test(e))throw new SyntaxError("Invalid Sec-WebSocket-Extensions header: "+e);var r=e.match(i);r.forEach((function(e){var r=e.match(new RegExp(n.source,"g")),s=r.shift(),i={};r.forEach((function(e){var t=e.match(n),r=t[1],s;if(t[2]!==undefined){s=t[2]}else if(t[3]!==undefined){s=t[3].replace(/\\/g,"")}else{s=true}if(a.test(s))s=parseFloat(s);if(c.call(i,r)){i[r]=[].concat(i[r]);i[r].push(s)}else{i[r]=s}}),this);t.push(s,i)}),this);return t},serializeParams:function(e,t){var s=[];var print=function(e,t){if(t instanceof Array){t.forEach((function(t){print(e,t)}))}else if(t===true){s.push(e)}else if(typeof t==="number"){s.push(e+"="+t)}else if(r.test(t)){s.push(e+'="'+t.replace(/"/g,'\\"')+'"')}else{s.push(e+"="+t)}};for(var n in t)print(n,t[n]);return[e].concat(s).join("; ")}};var Offers=function(){this._byName={};this._inOrder=[]};Offers.prototype.push=function(e,t){if(!c.call(this._byName,e))this._byName[e]=[];this._byName[e].push(t);this._inOrder.push({name:e,params:t})};Offers.prototype.eachOffer=function(e,t){var r=this._inOrder;for(var s=0,n=r.length;s<n;s++)e.call(t,r[s].name,r[s].params)};Offers.prototype.byName=function(e){return this._byName[e]||[]};Offers.prototype.toArray=function(){return this._inOrder.slice()};e.exports=u},9949:function(e,t,r){"use strict";var s=r(3993),n=r(1548);var Cell=function(e){this._ext=e[0];this._session=e[1];this._functors={incoming:new s(this._session,"processIncomingMessage"),outgoing:new s(this._session,"processOutgoingMessage")}};Cell.prototype.pending=function(e){var t=this._functors[e];if(!t._stopped)t.pending+=1};Cell.prototype.incoming=function(e,t,r,s){this._exec("incoming",e,t,r,s)};Cell.prototype.outgoing=function(e,t,r,s){this._exec("outgoing",e,t,r,s)};Cell.prototype.close=function(){this._closed=this._closed||new n;this._doClose();return this._closed};Cell.prototype._exec=function(e,t,r,s,n){this._functors[e].call(t,r,(function(e,t){if(e)e.message=this._ext.name+": "+e.message;s.call(n,e,t);this._doClose()}),this)};Cell.prototype._doClose=function(){var e=this._functors.incoming,t=this._functors.outgoing;if(!this._closed||e.pending+t.pending!==0)return;if(this._session)this._session.close();this._session=null;this._closed.done()};e.exports=Cell},3993:function(e,t,r){"use strict";var s=r(3392);var Functor=function(e,t){this._session=e;this._method=t;this._queue=new s(Functor.QUEUE_SIZE);this._stopped=false;this.pending=0};Functor.QUEUE_SIZE=8;Functor.prototype.call=function(e,t,r,s){if(this._stopped)return;var n={error:e,message:t,callback:r,context:s,done:false},i=false,o=this;this._queue.push(n);if(n.error){n.done=true;this._stop();return this._flushQueue()}var handler=function(e,t){if(!(i^(i=true)))return;if(e){o._stop();n.error=e;n.message=null}else{n.message=t}n.done=true;o._flushQueue()};try{this._session[this._method](t,handler)}catch(e){handler(e)}};Functor.prototype._stop=function(){this.pending=this._queue.length;this._stopped=true};Functor.prototype._flushQueue=function(){var e=this._queue,t;while(e.length>0&&e.peek().done){t=e.shift();if(t.error){this.pending=0;e.clear()}else{this.pending-=1}t.callback.call(t.context,t.error,t.message)}};e.exports=Functor},6035:function(e,t,r){"use strict";var s=r(9949),n=r(1548);var Pipeline=function(e){this._cells=e.map((function(e){return new s(e)}));this._stopped={incoming:false,outgoing:false}};Pipeline.prototype.processIncomingMessage=function(e,t,r){if(this._stopped.incoming)return;this._loop("incoming",this._cells.length-1,-1,-1,e,t,r)};Pipeline.prototype.processOutgoingMessage=function(e,t,r){if(this._stopped.outgoing)return;this._loop("outgoing",0,this._cells.length,1,e,t,r)};Pipeline.prototype.close=function(e,t){this._stopped={incoming:true,outgoing:true};var r=this._cells.map((function(e){return e.close()}));if(e)n.all(r).then((function(){e.call(t)}))};Pipeline.prototype._loop=function(e,t,r,s,n,i,o){var a=this._cells,c=a.length,u=this;while(c--)a[c].pending(e);var pipe=function(t,n,c){if(t===r)return i.call(o,n,c);a[t][e](n,c,(function(r,n){if(r)u._stopped[e]=true;pipe(t+s,r,n)}))};pipe(t,null,n)};e.exports=Pipeline},1548:function(e,t,r){"use strict";var s=r(3392);var Pledge=function(){this._complete=false;this._callbacks=new s(Pledge.QUEUE_SIZE)};Pledge.QUEUE_SIZE=4;Pledge.all=function(e){var t=new Pledge,r=e.length,s=r;if(r===0)t.done();while(s--)e[s].then((function(){r-=1;if(r===0)t.done()}));return t};Pledge.prototype.then=function(e){if(this._complete)e();else this._callbacks.push(e)};Pledge.prototype.done=function(){this._complete=true;var e=this._callbacks,t;while(t=e.shift())t()};e.exports=Pledge},3392:function(e){"use strict";var RingBuffer=function(e){this._bufferSize=e;this.clear()};RingBuffer.prototype.clear=function(){this._buffer=new Array(this._bufferSize);this._ringOffset=0;this._ringSize=this._bufferSize;this._head=0;this._tail=0;this.length=0};RingBuffer.prototype.push=function(e){var t=false,r=false;if(this._ringSize<this._bufferSize){t=this._tail===0}else if(this._ringOffset===this._ringSize){t=true;r=this._tail===0}if(t){this._tail=this._bufferSize;this._buffer=this._buffer.concat(new Array(this._bufferSize));this._bufferSize=this._buffer.length;if(r)this._ringSize=this._bufferSize}this._buffer[this._tail]=e;this.length+=1;if(this._tail<this._ringSize)this._ringOffset+=1;this._tail=(this._tail+1)%this._bufferSize};RingBuffer.prototype.peek=function(){if(this.length===0)return void 0;return this._buffer[this._head]};RingBuffer.prototype.shift=function(){if(this.length===0)return void 0;var e=this._buffer[this._head];this._buffer[this._head]=void 0;this.length-=1;this._ringOffset-=1;if(this._ringOffset===0&&this.length>0){this._head=this._ringSize;this._ringOffset=this.length;this._ringSize=this._bufferSize}else{this._head=(this._head+1)%this._ringSize}return e};e.exports=RingBuffer},7413:function(e,t,r){"use strict";var s=r(9282),n=r(6035);var Extensions=function(){this._rsv1=this._rsv2=this._rsv3=null;this._byName={};this._inOrder=[];this._sessions=[];this._index={}};Extensions.MESSAGE_OPCODES=[1,2];var i={add:function(e){if(typeof e.name!=="string")throw new TypeError("extension.name must be a string");if(e.type!=="permessage")throw new TypeError('extension.type must be "permessage"');if(typeof e.rsv1!=="boolean")throw new TypeError("extension.rsv1 must be true or false");if(typeof e.rsv2!=="boolean")throw new TypeError("extension.rsv2 must be true or false");if(typeof e.rsv3!=="boolean")throw new TypeError("extension.rsv3 must be true or false");if(this._byName.hasOwnProperty(e.name))throw new TypeError('An extension with name "'+e.name+'" is already registered');this._byName[e.name]=e;this._inOrder.push(e)},generateOffer:function(){var e=[],t=[],r={};this._inOrder.forEach((function(n){var i=n.createClientSession();if(!i)return;var o=[n,i];e.push(o);r[n.name]=o;var a=i.generateOffer();a=a?[].concat(a):[];a.forEach((function(e){t.push(s.serializeParams(n.name,e))}),this)}),this);this._sessions=e;this._index=r;return t.length>0?t.join(", "):null},activate:function(e){var t=s.parseHeader(e),r=[];t.eachOffer((function(e,t){var n=this._index[e];if(!n)throw new Error('Server sent an extension response for unknown extension "'+e+'"');var i=n[0],o=n[1],a=this._reserved(i);if(a)throw new Error("Server sent two extension responses that use the RSV"+a[0]+' bit: "'+a[1]+'" and "'+i.name+'"');if(o.activate(t)!==true)throw new Error("Server sent unacceptable extension parameters: "+s.serializeParams(e,t));this._reserve(i);r.push(n)}),this);this._sessions=r;this._pipeline=new n(r)},generateResponse:function(e){var t=[],r=[],i=s.parseHeader(e);this._inOrder.forEach((function(e){var n=i.byName(e.name);if(n.length===0||this._reserved(e))return;var o=e.createServerSession(n);if(!o)return;this._reserve(e);t.push([e,o]);r.push(s.serializeParams(e.name,o.generateResponse()))}),this);this._sessions=t;this._pipeline=new n(t);return r.length>0?r.join(", "):null},validFrameRsv:function(e){var t={rsv1:false,rsv2:false,rsv3:false},r;if(Extensions.MESSAGE_OPCODES.indexOf(e.opcode)>=0){for(var s=0,n=this._sessions.length;s<n;s++){r=this._sessions[s][0];t.rsv1=t.rsv1||r.rsv1;t.rsv2=t.rsv2||r.rsv2;t.rsv3=t.rsv3||r.rsv3}}return(t.rsv1||!e.rsv1)&&(t.rsv2||!e.rsv2)&&(t.rsv3||!e.rsv3)},processIncomingMessage:function(e,t,r){this._pipeline.processIncomingMessage(e,t,r)},processOutgoingMessage:function(e,t,r){this._pipeline.processOutgoingMessage(e,t,r)},close:function(e,t){if(!this._pipeline)return e.call(t);this._pipeline.close(e,t)},_reserve:function(e){this._rsv1=this._rsv1||e.rsv1&&e.name;this._rsv2=this._rsv2||e.rsv2&&e.name;this._rsv3=this._rsv3||e.rsv3&&e.name},_reserved:function(e){if(this._rsv1&&e.rsv1)return[1,this._rsv1];if(this._rsv2&&e.rsv2)return[2,this._rsv2];if(this._rsv3&&e.rsv3)return[3,this._rsv3];return false}};for(var o in i)Extensions.prototype[o]=i[o];e.exports=Extensions},9491:function(e){"use strict";e.exports=require("assert")},4300:function(e){"use strict";e.exports=require("buffer")},6113:function(e){"use strict";e.exports=require("crypto")},2361:function(e){"use strict";e.exports=require("events")},3685:function(e){"use strict";e.exports=require("http")},5687:function(e){"use strict";e.exports=require("https")},1808:function(e){"use strict";e.exports=require("net")},2037:function(e){"use strict";e.exports=require("os")},2781:function(e){"use strict";e.exports=require("stream")},4404:function(e){"use strict";e.exports=require("tls")},6224:function(e){"use strict";e.exports=require("tty")},7310:function(e){"use strict";e.exports=require("url")},3837:function(e){"use strict";e.exports=require("util")}};var t={};function __nccwpck_require__(r){var s=t[r];if(s!==undefined){return s.exports}var n=t[r]={exports:{}};var i=true;try{e[r](n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete t[r]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(1828);module.exports=r})();